{"version":3,"sources":["webpack:///webpack/bootstrap 9a70c3bdb93f4b4c415d","webpack:///./src/index.js","webpack:///./src/Style/index.scss","webpack:///./src/Services/ConfigService.js","webpack:///./src/Services/TimeService.js","webpack:///./src/Services/DebugService.js","webpack:///./src/Models/Entity.js","webpack:///./src/Models/Player.js","webpack:///./src/Models/Company.js","webpack:///./src/Models/Report.js","webpack:///./src/Models/VATRecord.js","webpack:///./src/Models/FinancialRecord.js","webpack:///./src/Views/Widgets/PlayerInfo.js","webpack:///./src/Views/Pages/Setup.js","webpack:///./src/Views/Pages/Level.js","webpack:///./src/Controllers/ViewController.js"],"names":["require","window","reset","localStorage","clear","location","reload","pause","Game","isPaused","play","Date","prototype","addHours","h","setTime","getTime","_","Crisp","Elements","Services","ConfigService","TimeService","DebugService","Models","Entity","Player","Company","Report","VATRecord","FinancialRecord","Views","Widgets","PlayerInfo","Pages","Setup","Level","Controllers","ViewController","set","key","value","setItem","JSON","stringify","e","get","parse","getItem","module","exports","HOURS_PER_SECOND","startClock","now","tick","time","currentTime","addDays","amount","startTime","unix","currentYear","getFullYear","currentMonth","getMonth","previousQuarter","quarter","currentQuarter","getQuarterFromMonth","month","autoReloadInterval","setAutoReload","isActive","clearInterval","setInterval","reloadStyle","reloadScript","styleTags","document","querySelectorAll","i","length","getAttribute","indexOf","setAttribute","scriptTags","constructor","params","structure","Object","Array","isArray","k","parseFloat","toString","seal","current","personalAccount","company","vatRecord","financialRecord","load","save","reportQuarterlyVAT","year","report","getQuarterlyReport","sales","productionCost","payments","isReported","payQuarterlyVAT","bankBalance","isPaid","MACHINE_PRICE","name","capital","unitPrice","unitProduction","unitProductionCost","demand","inventory","machines","round","num","Math","estimatedYearlySales","estimatedYearlySalesVAT","estimatedYearlyProductionCost","estimatedYearlyProductionCostVAT","estimatedYearlyIncome","estimatedYearlyBSkat","estimatedVATPercentage","estimatedYearlyVAT","estimatedMonthlyBSkat","player","sellUnit","currentReport","produceUnit","alert","purchaseMachine","parseInt","append","generatePayments","firstYear","firstQuarter","targetYear","targetQuarter","thisFirstQuarter","thisTargetQuarter","reports","generateReports","firstMonth","targetMonth","thisFirstMonth","thisTargetMonth","View","model","notifications","fetch","_render","getTimeString","timeString","getDate","update","playerInfo","isExpanded","toggle","element","querySelector","checked","notify","area","title","description","onClick","btoa","clearNotification","getNotificationsString","keys","strings","notification","push","join","renderNotifications","ul","class","each","li","h4","if","button","click","hasNotifications","template","div","input","type","sanityCheck","renderCalculations","updatePersonalAccount","renderInputField","label","readOnly","disabled","on","currentTarget","renderCalculationField","result","vat","calculations","innerHTML","h2","Router","init","heartbeat","checkPaymentQuarter","paymentQuarter","paymentYear","renderButton","action","route","index","body"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9a70c3bdb93f4b4c415d","'use strict';\n\nrequire('./Style/index.scss');\n\n/**\n * Resets the game\n */\nwindow.reset = function reset() {\n    localStorage.clear();\n    \n    location.reload();\n}\n\n/**\n * Pauses the game\n */\nwindow.pause = function pause() {\n    Game.isPaused = true; \n}\n\n/**\n * Plays the game\n */\nwindow.play = function play() {\n    Game.isPaused = false; \n}\n\n/**\n * Adds hours to a date\n */\nDate.prototype.addHours = function(h) {    \n    this.setTime(this.getTime() + (h*60*60*1000)); \n    return this;   \n}\n\nwindow._ = Crisp.Elements;\n\nwindow.Game = {};\n\nGame.Services = {};\nGame.Services.ConfigService = require('./Services/ConfigService');\nGame.Services.TimeService = require('./Services/TimeService');\nGame.Services.DebugService = require('./Services/DebugService');\n\nGame.Models = {};\nGame.Models.Entity = require('./Models/Entity');\nGame.Models.Player = require('./Models/Player');\nGame.Models.Company = require('./Models/Company');\nGame.Models.Report = require('./Models/Report');\nGame.Models.VATRecord = require('./Models/VATRecord');\nGame.Models.FinancialRecord = require('./Models/FinancialRecord');\n\nGame.Views = {};\nGame.Views.Widgets = {};\nGame.Views.Widgets.PlayerInfo = require('./Views/Widgets/PlayerInfo');\nGame.Views.Pages = {};\nGame.Views.Pages.Setup = require('./Views/Pages/Setup');\nGame.Views.Pages.Level = require('./Views/Pages/Level');\n\nGame.Controllers = {};\nGame.Controllers.ViewController = require('./Controllers/ViewController');\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Style/index.scss\n// module id = 1\n// module chunks = 0","'use strict';\n\n/**\n * The service for user config stored in localStorage\n */\nclass ConfigService {\n    /**\n     * Sets a value\n     *\n     * @param {String} key\n     * @param {Object} value\n     */\n    static set(key, value) {\n        try {\n            localStorage.setItem(key, JSON.stringify(value));\n        } catch(e) {\n            localStorage.setItem(key, value);\n        }\n    }\n\n    /**\n     * Gets a value\n     *\n     * @param {String} key\n     *\n     * @returns {Object} Value\n     */\n    static get(key) {\n        try {\n            return JSON.parse(localStorage.getItem(key));\n\n        } catch(e) {\n            return localStorage.getItem(key);\n        }\n    }\n}\n\nmodule.exports = ConfigService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/ConfigService.js","'use strict';\n\nconst HOURS_PER_SECOND = 12; \n\n/**\n * The service for managing time\n */\nclass TimeService {\n    /**\n     * Starts the clock\n     */\n    static startClock() {\n        Game.Services.ConfigService.set('time', Date.now());\n        Game.Services.ConfigService.set('startTime', Date.now());\n    }\n\n    /**\n     * Ticks the time\n     */\n    static tick() {\n        let time = this.currentTime;\n\n        time.addHours(HOURS_PER_SECOND);\n\n        Game.Services.ConfigService.set('time', time.getTime());\n    }\n\n    /**\n     * Adds days to the current time\n     *\n     * @param {Number} amount\n     */\n    static addDays(amount) {\n        if(amount < 1) { return; }\n\n        let time = this.currentTime;\n\n        time.addDays(amount);\n\n        Game.Services.ConfigService.set('time', time.getTime());\n    }\n    \n    /**\n     * Gets the start time\n     */\n    static get startTime() {\n        let unix = Game.Services.ConfigService.get('startTime');\n\n        if(!unix) { return new Date(); }\n\n        return new Date(unix);\n    }\n\n    /**\n     * Gets the current time\n     */\n    static get currentTime() {\n        let unix = Game.Services.ConfigService.get('time');\n\n        if(!unix) { return new Date(); }\n\n        return new Date(unix);\n    }\n    \n    /**\n     * Gets the current year\n     */\n    static get currentYear() {\n        return this.currentTime.getFullYear();\n    }\n    \n    /**\n     * Gets the current month\n     */\n    static get currentMonth() {\n        return this.currentTime.getMonth() + 1;\n    }\n\n    /**\n     * Gets the previous quarter\n     */\n    static get previousQuarter() {\n        let quarter = this.currentQuarter - 1;\n\n        if(quarter <= 0) {\n            quarter = 4;\n        }\n\n        return quarter;\n    }\n\n    /**\n     * Gets a quarter from a month\n     *\n     * @param {Number} month\n     *\n     * @returns {Number} Quarter\n     */\n    static getQuarterFromMonth(month) {\n        if(month > 9) {\n            return 4;\n        } else if(month > 6) {\n            return 3;\n        } else if(month > 3) {\n            return 2;\n        } else {\n            return 1;\n        }\n    }\n\n    /**\n     * Gets the current quarter\n     */\n    static get currentQuarter() {\n        return this.getQuarterFromMonth(this.currentTime.getMonth() + 1)\n    }\n}\n\nmodule.exports = TimeService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/TimeService.js","'use strict';\n\nlet autoReloadInterval;\n\n/**\n * A service for debugging\n */\nclass DebugService {\n    /**\n     * Sets auto reload on/off\n     *\n     * @param {Boolean} isActive\n     */\n    static setAutoReload(isActive) {\n        if(!isActive && autoReloadInterval) {\n            clearInterval(autoReloadInterval);\n        }\n\n        if(isActive && !autoReloadInterval) {\n            autoReloadInterval = setInterval(() => {\n                if(Game.isPaused) { return; }\n\n                this.reloadStyle();\n                this.reloadScript();\n            }, 500);\n        }\n    }\n\n    /**\n     * Reloads styles\n     */\n    static reloadStyle() {\n        let styleTags = document.querySelectorAll('link');\n\n        if(!styleTags) { return; }\n\n        for(let i = 0; i < styleTags.length; i++) {\n            if(styleTags[i].getAttribute('href').indexOf('css/app.css') === 0) {\n                styleTags[i].setAttribute('href', 'css/app.css?' + Date.now());\n                return;\n            }\n        }\n    }\n\n    /**\n     * Reloads scripts\n     */\n    static reloadScript() {\n        let scriptTags = document.querySelectorAll('script');\n\n        if(!scriptTags) { return; }\n\n        for(let i = 0; i < scriptTags.length; i++) {\n            if(scriptTags[i].getAttribute('src').indexOf('js/app.js') === 0) {\n                scriptTags[i].setAttribute('src', 'js/app.js?' + Date.now());\n                return;\n            }\n        }\n    }\n}\n\nmodule.exports = DebugService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/DebugService.js","'use strict';\n\n/**\n * The base model for everything\n */\nclass Entity {\n    /**\n     * Constructor\n     *\n     * @param {Object} params\n     */\n    constructor(params) {\n        this.structure();\n\n        if(params && params instanceof Object && !Array.isArray(params)) {\n            for(let k in params) {\n                switch(typeof this[k]) {\n                    case 'number':\n                        this[k] = parseFloat(params[k] || 0);\n                        break;\n\n                    case 'string':\n                        this[k] = (params[k] || '').toString();\n                        break;\n\n                    default:\n                        this[k] = params[k];\n                        break;\n                }\n            }\n        }\n\n        Object.seal(this);\n    }\n\n    /**\n     * Defines the structure of this model\n     */\n    structure() {}\n}\n\nmodule.exports = Entity;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Entity.js","'use strict';\n\nlet current;\n\n/**\n * The player model\n */\nclass Player extends Game.Models.Entity {\n    /**\n     * Structure\n     */\n    structure() {\n        this.personalAccount = 50000;\n        this.company = new Game.Models.Company();\n        this.vatRecord = new Game.Models.VATRecord();\n        this.financialRecord = new Game.Models.FinancialRecord();  \n    }\n\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.company = new Game.Models.Company(this.company);\n        this.vatRecord = new Game.Models.VATRecord(this.vatRecord);\n        this.financialRecord = new Game.Models.FinancialRecord(this.financialRecord);\n    }\n\n    /**\n     * Loads the player data\n     *\n     * @returns {Player} Player\n     */\n    static load() {\n        return new Player(Game.Services.ConfigService.get('player'));\n    }\n\n    /**\n     * Get the current player\n     */\n    static get current() {\n        if(!current) {\n            current = this.load();\n        }\n\n        return current;\n    }\n\n    /**\n     * Saves the player data\n     */\n    save() {\n        Game.Services.ConfigService.set('player', this);\n    }\n    \n    /**\n     * Reports VAT quarterly\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     */\n    reportQuarterlyVAT(year, quarter) {\n        let amount = 0;\n\n        let report = this.financialRecord.getQuarterlyReport(year, quarter);     \n\n        amount += report.sales * 0.25; // Sales VAT\n        amount -= report.productionCost / 1.25 * 0.25; // Cost VAT\n\n        this.vatRecord.payments[year][quarter].isReported = true; \n        this.vatRecord.payments[year][quarter].amount = amount;\n    }\n    \n    /**\n     * Pays VAT quarterly\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     */\n    payQuarterlyVAT(year, quarter) {\n        this.company.bankBalance -= this.vatRecord.payments[year][quarter].amount;\n        this.vatRecord.payments[year][quarter].isPaid = true; \n    }\n}\n\nmodule.exports = Player;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Player.js","'use strict';\n\nconst MACHINE_PRICE = 10000;\n\n/**\n * The main company model\n */\nclass Company extends Game.Models.Entity {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n    }\n\n    /**\n     * Structure\n     */\n    structure() {\n        this.name = 'My Company A/S';\n        this.capital = 20000;\n        this.bankBalance = 0;\n        this.unitPrice = 20;\n        this.unitProduction = 5000;\n        this.unitProductionCost = 10;\n        this.demand = 10000;\n\n        this.inventory = 0;\n        this.machines = 0;\n    }\n\n    /**\n     * Rounds a number by 2 decimal places\n     */\n    round(num) {\n        return Math.round(num * 100) / 100;\n    }\n\n    /**\n     * Gets the estimated yearly sales\n     */\n    get estimatedYearlySales() {\n        return this.round(this.demand * this.unitPrice);\n    }\n    \n    /**\n     * Gets the estimated yearly sales VAT\n     */\n    get estimatedYearlySalesVAT() {\n        return this.round(this.estimatedYearlySales * 0.25);\n    }\n    \n    /**\n     * Gets the estimated yearly cost\n     */\n    get estimatedYearlyProductionCost() {\n        return this.round(this.unitProduction * this.unitProductionCost);\n    }\n    \n    /**\n     * Gets the estimated yearly cost VAT\n     */\n    get estimatedYearlyProductionCostVAT() {\n        return this.round(this.estimatedYearlyProductionCost / 1.25 * 0.25);\n    }\n    \n    /**\n     * Gets the estimated income\n     */\n    get estimatedYearlyIncome() {\n        return this.round(this.estimatedYearlySales - this.estimatedYearlyProductionCost);\n    }\n\n    /**\n     * Gets the estimated yearly B skat\n     */\n    get estimatedYearlyBSkat() {\n        return this.round(this.estimatedYearlyIncome * this.estimatedVATPercentage / 100);\n    }\n    \n    /**\n     * Gets the estimated yearly VAT\n     */\n    get estimatedYearlyVAT() {\n        return this.round(this.estimatedYearlySalesVAT - this.estimatedYearlyProductionCostVAT);\n    }\n\n    /**\n     * Gets the estimated monthly B skat\n     */\n    get estimatedMonthlyBSkat() {\n        return this.round(this.estimatedYearlyBSkat / 12);\n    }\n\n    /**\n     * Gets the estimated VAT percentage\n     */\n    get estimatedVATPercentage() {\n        return 38;\n    }\n    \n    /**\n     * Saves this company\n     */\n    save() {\n        let player = Game.Models.Player.current;\n\n        player.company = this;\n\n        player.save();\n    }\n\n    /**\n     * Sells a unit\n     */\n    sellUnit() {\n        if(this.inventory < 1) { return; }\n        \n        this.inventory--;\n\n        this.bankBalance += this.unitPrice;\n        Game.Models.Player.current.financialRecord.currentReport.sales += this.unitPrice;\n    }\n\n    /**\n     * Produces a unit\n     */\n    produceUnit() {\n        if(this.bankBalance < this.unitProductionCost) {\n            return alert('You do not have enough capital to produce more units');\n        }\n\n        this.inventory++;\n\n        this.bankBalance -= this.unitProductionCost;\n        Game.Models.Player.current.financialRecord.currentReport.productionCost += this.unitProductionCost;\n    }\n\n    /**\n     * Purchases a machine\n     */\n    purchaseMachine() {\n        if(this.bankBalance < MACHINE_PRICE) {\n            return alert('You do not have enough capital to purchase more machines');\n        }\n\n        this.machines++;\n\n        this.bankBalance -= MACHINE_PRICE;\n        Game.Models.Player.current.financialRecord.currentReport.productionCost += MACHINE_PRICE;\n    }\n}\n\nmodule.exports = Company;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Company.js","'use strict';\n\n/**\n * A monthly report\n */\nclass Report extends Game.Models.Entity {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.sales = parseInt(this.sales);\n        this.productionCost = parseInt(this.productionCost);\n    }\n\n    /**\n     * Structure\n     */\n    structure() {\n        this.sales = 0;\n        this.productionCost = 0;\n    }\n\n    /**\n     * Appends another report to this one\n     *\n     * @param {Report} report\n     */\n    append(report) {\n        this.sales += report.sales;\n        this.productionCost += report.productionCost;\n    }\n}\n\nmodule.exports = Report;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Report.js","'use strict';\n\n/**\n * The record for keeping track of VAT payments\n */\nclass VATRecord extends Game.Models.Entity {\n    /**\n     * Structure\n     */\n    structure() {\n        this.payments = {};\n    }\n\n    /**\n     * Generates all payments\n     */\n    generatePayments() {\n        let startTime = Game.Services.TimeService.startTime;\n        let firstYear = startTime.getFullYear();\n        let firstQuarter = Game.Services.TimeService.getQuarterFromMonth(startTime.getMonth() + 1);\n        let targetYear = Game.Services.TimeService.currentYear;\n        let targetQuarter = Game.Services.TimeService.currentQuarter - 1;\n\n        for(let year = firstYear; year <= targetYear; year++) {\n            if(!this.payments[year]) {\n                this.payments[year] = {};\n            }\n\n            let thisFirstQuarter = 1;\n\n            if(year === firstYear) {\n                thisFirstQuarter = firstQuarter;\n            }\n\n            let thisTargetQuarter = 4;\n\n            if(year === targetYear) {\n                thisTargetQuarter = targetQuarter;\n            }\n\n            for(let quarter = thisFirstQuarter; quarter <= thisTargetQuarter; quarter++) {\n                if(!this.payments[year][quarter]) {\n                    this.payments[year][quarter] = {\n                        isPaid: false,\n                        isReported: false,\n                        amount: 0\n                    };\n                }\n            }\n        }\n\n        return this.payments; \n    }\n}\n\nmodule.exports = VATRecord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/VATRecord.js","'use strict';\n\n/**\n * A class for keeping track of reports\n */\nclass FinancialRecord extends Game.Models.Entity {\n    /**\n     * Structure\n     */\n    structure() {\n        this.reports = {};\n    }\n\n    /**\n     * Generate reports\n     */\n    generateReports() {\n        let firstYear = Game.Services.TimeService.startTime.getFullYear();\n        let firstMonth = Game.Services.TimeService.startTime.getMonth() + 1;\n        let targetYear = Game.Services.TimeService.currentYear;\n        let targetMonth = Game.Services.TimeService.currentMonth;\n\n        for(let year = firstYear; year <= targetYear; year++) {\n            if(!this.reports[year]) {\n                this.reports[year] = {};\n            }\n\n            let thisFirstMonth = 1;\n            let thisTargetMonth = 12;\n\n            if(year === firstYear) {\n                thisFirstMonth = firstMonth;\n            }\n\n            if(year === targetYear) {\n                thisTargetMonth = targetMonth;\n            }\n\n            for(let month = thisFirstMonth; month <= thisTargetMonth; month++) {\n                if(!this.reports[year][month]) {\n                    this.reports[year][month] = new Game.Models.Report();\n                }\n            }\n        }\n\n        return this.reports; \n    }\n\n    /**\n     * Gets quarterly report\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     *\n     * @returns {Object} Quarterly report\n     */\n    getQuarterlyReport(year, quarter) {\n        this.generateReports();\n\n        let firstMonth = quarter * 3 - 2;\n        let targetMonth = firstMonth + 3;\n        \n        let report = new Game.Models.Report();\n\n        for(let month = firstMonth; month < targetMonth; month++) {\n            report.append(this.reports[year][month]);\n        }\n\n        return report; \n    }\n\n    /**\n     * Gets the current report\n     */\n    get currentReport() {\n        this.generateReports();\n\n        return this.reports[Game.Services.TimeService.currentYear][Game.Services.TimeService.currentMonth];\n    }\n\n}\n\nmodule.exports = FinancialRecord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/FinancialRecord.js","'use strict';\n\n/**\n * The persistent player info widget\n */\nclass PlayerInfo extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = Game.Models.Player.current;\n        \n        this.notifications = {\n            'company': {},\n            'personal-account': {},\n            'calendar': {}\n        }\n            \n        this.fetch();\n\n        setInterval(() => {\n            if(Game.isPaused) { return; }\n            \n            this._render();\n        }, 1000);\n    }\n\n    /**\n     * Gets the time string\n     */\n    getTimeString() {\n        let time = Game.Services.TimeService.currentTime;\n        let timeString = time.getFullYear() + '-';\n\n        if(time.getMonth() + 1 < 10) {\n            timeString += '0';\n        }\n\n        timeString += (time.getMonth() + 1) + '-';\n        \n        if(time.getDate() < 10) {\n            timeString += '0';\n        }\n\n        timeString += time.getDate();\n\n        return timeString;\n    }\n\n    /**\n     * Updates this view\n     */\n    static update() {\n        let playerInfo = Crisp.View.get(PlayerInfo);\n\n        if(!playerInfo) { return; }\n\n        playerInfo.fetch();\n    }\n\n    /**\n     * Gets whether or not this view is expanded\n     */\n    get isExpanded() {\n        let toggle = this.element.querySelector('.widget--player-info__toggle');\n\n        if(!toggle) { return false; }\n\n        return toggle.checked;\n    }\n\n    /**\n     * Sets a notification\n     *\n     * @param {String} area\n     * @param {String} title\n     * @param {String} description\n     * @param {Function} onClick\n     */\n    static notify(area, title, description, onClick) {\n        let playerInfo = Crisp.View.get(PlayerInfo);\n\n        if(!playerInfo) { return; }\n        \n        let key = btoa(title + description);\n\n        playerInfo.notifications[area][key] = {\n            title: title, \n            description: description,\n            onClick: onClick\n        };\n    \n        playerInfo._render();\n    }\n\n    /**\n     * Clears a notification\n     *\n     * @param {String} area\n     * @param {String} key\n     */\n    static clearNotification(area, key) {\n        let playerInfo = Crisp.View.get(PlayerInfo);\n\n        if(!playerInfo) { return; }\n        \n        delete playerInfo.notifications[area][key];\n\n        playerInfo._render();\n    }\n\n    /**\n     * Gets a notification string\n     *\n     * @param {String} area\n     *\n     * @returns {String} Notifications\n     */\n    getNotificationsString(area) {\n        if(Object.keys(this.notifications[area]).length < 1) { return ''; }\n\n        let strings = [];\n\n        for(let key in  this.notifications[area]) {\n            let notification = this.notifications[area][key];\n                \n            strings.push(notification.title + '\\n' + notification.description);\n        }\n\n        return strings.join('\\n\\n');\n    }\n    \n    /**\n     * Renders notifications\n     *\n     * @param {String} area\n     *\n     * @returns {HTMLElement} Notifications\n     */\n    renderNotifications(area) {\n        return _.ul({class: 'widget--player-info__area__notifications'},\n            _.each(this.notifications[area], (key, notification) => {\n                return _.li(\n                    _.h4(notification.title),\n                    _.if(notification.onClick,\n                        _.button({class: 'widget widget--button'}, notification.description)\n                            .click(() => { notification.onClick(key); })\n                    ),\n                    _.if(!notification.onClick,\n                        notification.description\n                    )\n                );\n            })    \n        );\n    }\n\n    /**\n     * Checks if an area has any notifications\n     *\n     * @param {String} area\n     *\n     * @param {Boolean} Has notifications\n     */\n    hasNotifications(area) {\n        return Object.keys(this.notifications[area]).length > 0;\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'widget widget--player-info'},\n            _.input({type: 'checkbox', class: 'widget widget--player-info__toggle', checked: this.isExpanded}),\n            _.div({class: 'widget--player-info__area company'},\n                _.h4({class: 'widget--player-info__area__heading'}, 'Company'),\n                _.div({class: 'widget--player-info__area__icon' + (this.hasNotifications('company') ? ' notification' : '')}, '🏭'),\n                _.div({class: 'widget--player-info__area__preview'}, this.model.company.name + ': ' + this.model.company.bankBalance + ' kr.'),\n                _.div({class: 'widget--player-info__area__data'},\n                    'Name: ' + this.model.company.name,\n                    '<br>',\n                    'Bank balance: ' + this.model.company.bankBalance + ' kr.',\n                    this.renderNotifications('company')\n                )\n            ),\n            _.div({class: 'widget--player-info__area personal-account'},\n                _.h4({class: 'widget--player-info__area__heading'}, 'Personal account'),\n                _.div({class: 'widget--player-info__area__icon' + (this.hasNotifications('personal-account') ? ' notification' : '')}, '💰'),\n                _.div({class: 'widget--player-info__area__preview'}, this.model.personalAccount + ' kr.'),\n                _.div({class: 'widget--player-info__area__data'},\n                    'Balance: ' + this.model.personalAccount + ' kr.',\n                    this.renderNotifications('personal-account')\n                )\n            ),\n            _.div({class: 'widget--player-info__area calendar'},\n                _.h4({class: 'widget--player-info__area__heading'}, 'Calendar'),\n                _.div({class: 'widget--player-info__area__icon' + (this.hasNotifications('calendar') ? ' notification' : '')}, '🗓'),\n                _.div({class: 'widget--player-info__area__preview'}, this.getTimeString()),\n                _.div({class: 'widget--player-info__area__data'},\n                    'Time: ' + this.getTimeString(),\n                    this.renderNotifications('calendar')\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = PlayerInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Widgets/PlayerInfo.js","'use strict';\n\nclass Setup extends Crisp.View {\n    /**\n     * Constrcutor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = Game.Models.Player.current.company;\n            \n        this.fetch();\n\n        this.sanityCheck();\n\n        this.renderCalculations();\n        this.updatePersonalAccount();\n    }\n\n    /**\n     * Performs a sanity check\n     */\n    sanityCheck() {\n        if(!this.model.name) {\n            this.model.name = 'My Company A/S';\n            return alert('Company name cannot be empty');\n        }\n\n        if(this.model.capital < 0) {\n            this.model.capital = 20000;\n            return alert('Capital cannot be a negative number');\n        }\n\n        if(this.model.unitPrice < 0) {\n            this.model.unitPrice = 0;\n            return alert('Unit price cannot be a negative number');\n        }\n\n        if(this.model.unitProduction < 0) {\n            this.model.unitProduction = 0;\n            return alert('Unit production cannot be a negative number');\n        }\n\n        if(this.model.unitProductionCost < 0) {\n            this.model.unitProductionCost = 0;\n            return alert('Unit production cost cannot be a negative number');\n        }\n\n        if(this.model.demand < 0) {\n            this.model.demand = 0;\n            return alert('Demand cannot be a negative number');\n        }\n\n        if(Game.Models.Player.current.personalAccount < 0) {\n            return alert('Your capital cannot exceed your personal account');\n        }\n\n        return true;\n    }\n    \n    /**\n     * Updates the personal account\n     */\n    updatePersonalAccount() {\n        Game.Models.Player.current.personalAccount = 50000 - this.model.capital;\n\n        Game.Views.Widgets.PlayerInfo.update();\n    }\n\n    /**\n     * Renders an input field\n     *\n     * @param {String} key\n     * @param {String} label\n     * @param {String} description\n     * @param {Boolean} readOnly\n     *\n     * @returns {HTMLElement} Field element\n     */\n    renderInputField(key, label, description, readOnly) {\n        let type = 'text';\n\n        if(typeof this.model[key] === 'number') {\n            type = 'number';\n        }\n        \n        return _.div({class: 'page--setup__user-input__field'},\n            _.h4({class: 'page--setup__user-input__field__label'}, label || ''),\n            _.div({class: 'page--setup__user-input__field__description'}, description || ''),\n            _.input({disabled: readOnly, type: type, class: 'widget widget--input', value: this.model[key] || ''})\n                .on('input', (e) => {\n                    if(readOnly) { return; }\n\n                    this.model[key] = e.currentTarget.value;\n\n                    this.renderCalculations();\n                    this.updatePersonalAccount();\n                })\n        );\n    }\n\n    /**\n     * Renders a calculation field\n     *\n     * @param {String} label\n     * @param {String} result\n     * @param {String} vat\n     */\n    renderCalculationField(label, result, vat) {\n        return _.div({class: 'page--setup__calculations__field'},\n            _.h4({class: 'page--setup__calculations__field__label'}, label),\n            _.div({class: 'page--setup__calculations__field__result'}, result),\n            _.if(vat, \n                _.div({class: 'page--setup__calculations__field__vat'}, 'VAT: ' + vat)\n            )\n        );\n    }\n\n    /**\n     * Renders the calculations\n     */\n    renderCalculations() {\n        let calculations = this.element.querySelector('.page--setup__calculations__inner');\n\n        if(!calculations) { return; }\n\n        calculations.innerHTML = '';\n\n        _.append(calculations,\n            _.h2({class: 'page--setup__calculations__heading'}, 'Calculations'),\n            this.renderCalculationField(\n                'Sales',\n                this.model.demand + ' × ' + this.model.unitPrice + ' = ' + this.model.estimatedYearlySales,\n                this.model.estimatedYearlySales + ' × 25% = ' + this.model.estimatedYearlySalesVAT\n            ),\n            this.renderCalculationField(\n                'Cost',\n                -this.model.unitProduction + ' × ' + -this.model.unitProductionCost + ' = ' + -this.model.estimatedYearlyProductionCost,\n                -this.model.estimatedYearlyProductionCost + ' / 125% × 25% = ' + -this.model.estimatedYearlyProductionCostVAT\n            ),\n            this.renderCalculationField(\n                'Income',\n                this.model.estimatedYearlyIncome\n            ),\n            this.renderCalculationField(\n                'B-skat',\n                this.model.estimatedYearlyBSkat + ' (' + this.model.estimatedMonthlyBSkat + ' per month)'\n            ),\n            this.renderCalculationField(\n                'VAT payable',\n                this.model.estimatedYearlySalesVAT + ' - ' + this.model.estimatedYearlyProductionCostVAT + ' = ' + this.model.estimatedYearlyVAT\n            )\n        );\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'page page--setup'},\n            _.div({class: 'page--setup__numbers'},\n                _.div({class: 'page--setup__user-input'},\n                    _.h2({class: 'page--setup__user-input__heading'}, 'Registration'),\n                    this.renderInputField('name', 'Name', 'The name of your company'),\n                    _.h2({class: 'page--setup__user-input__heading'}, 'Business plan'),\n                    this.renderInputField('capital', 'Capital', 'How much you, as the owner, will invest for the company\\'s spending'),\n                    this.renderInputField('unitPrice', 'Unit price', 'How much you want to charge for your product'),\n                    this.renderInputField('unitProduction', 'Unit production', 'How many units you plan to produce in a year'),\n                    this.renderInputField('unitProductionCost', 'Production cost', 'How much a single unit costs to make', true),\n                    this.renderInputField('demand', 'Demand estimate', 'How many units you assume people will buy in a year')\n                ),\n                _.div({class: 'page--setup__calculations'},\n                    _.div({class: 'page--setup__calculations__inner'})\n                )\n            ),\n            _.div({class: 'page--setup__actions'},\n                _.button({class: 'widget widget--button'}, 'Start game')\n                    .click((e) => {\n                        if(!this.sanityCheck()) { return; }\n\n                        this.model.bankBalance = this.model.capital;\n                        \n                        this.model.save();\n\n                        Game.Services.ConfigService.set('completedSetup', true);\n                        Game.Services.TimeService.startClock();\n\n                        Crisp.Router.init();\n                    })\n            )\n        );\n    }\n}\n\nmodule.exports = Setup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Pages/Setup.js","'use strict';\n\nclass Level extends Crisp.View {\n    /**\n     * Constrcutor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = Game.Models.Player.current;\n            \n        this.fetch();\n\n        setInterval(() => {\n            if(Game.isPaused) { return; }\n\n            this.heartbeat();\n        }, 1000);\n    }\n\n    /**\n     * Heartbeat\n     */\n    heartbeat() {\n        // Tick time \n        Game.Services.TimeService.tick();\n        \n        // Sell one unit every second\n        this.model.company.sellUnit();\n\n        // Automatically produce units\n        for(let i = 0; i < this.model.company.machines; i++) {\n            this.model.company.produceUnit();\n        }\n\n        // Check VAT payment\n        let checkPaymentQuarter = (paymentQuarter, quarter, year) => {\n            // Report VAT\n            if(!paymentQuarter.isReported) {\n                Game.Views.Widgets.PlayerInfo.notify('calendar', 'Report VAT (Q' + quarter + ' ' + year + ')', 'Report VAT', (key) => {\n                    this.model.reportQuarterlyVAT(year, quarter);\n\n                    this.model.save();\n\n                    Game.Views.Widgets.PlayerInfo.clearNotification('calendar', key);\n                    Game.Views.Widgets.PlayerInfo.update();\n                });\n\n            // Pay VAT\n            } else if(!paymentQuarter.isPaid) {\n                Game.Views.Widgets.PlayerInfo.notify('calendar', 'Pay VAT (Q' + quarter + ' ' + year + '): ' + paymentQuarter.amount + ' kr.', 'Pay VAT', (key) => {\n                    this.model.payQuarterlyVAT(year, quarter);\n\n                    this.model.save();\n                    \n                    Game.Views.Widgets.PlayerInfo.clearNotification('calendar', key);\n                    Game.Views.Widgets.PlayerInfo.update();\n                });\n\n            }\n        };\n        \n        let previousQuarter = Game.Services.TimeService.previousQuarter;\n        let currentYear = Game.Services.TimeService.currentYear;\n        \n        this.model.vatRecord.generatePayments();\n        \n        for(let year in this.model.vatRecord.payments) {\n            let paymentYear = this.model.vatRecord.payments[year];\n        \n            for(let quarter in paymentYear) {\n                let paymentQuarter = paymentYear[quarter];\n\n                if(\n                    (quarter <= previousQuarter && year == currentYear) ||\n                    year < currentYear\n                ) {\n                    checkPaymentQuarter(paymentQuarter, quarter, year);\n                }\n            }\n        }\n\n        // Render the level\n        this._render();\n\n        // Save the current state\n        this.model.save();\n    }\n\n    /**\n     * Renders an input field\n     *\n     * @param {String} key\n     * @param {String} label\n     * @param {String} description\n     * @param {Boolean} readOnly\n     *\n     * @returns {HTMLElement} Field element\n     */\n    renderInputField(key, label, description, readOnly) {\n        let type = 'text';\n\n        if(typeof this.model.company[key] === 'number') {\n            type = 'number';\n        }\n        \n        return _.div({class: 'page--level__user-input__field'},\n            _.h4({class: 'page--level__user-input__field__label'}, label || ''),\n            _.div({class: 'page--level__user-input__field__description'}, description || ''),\n            _.input({disabled: readOnly, type: type, class: 'widget widget--input', value: this.model.company[key] || ''})\n                .on('change', (e) => {\n                    if(readOnly) { return; }\n\n                    this.model.company[key] = e.currentTarget.value;\n\n                    this.model.save();\n                    Game.Views.Widgets.PlayerInfo.update();\n                    \n                    this.fetch();\n                })\n        );\n    }\n    \n    /**\n     * Renders a button\n     *\n     * @param {String} key\n     * @param {String} label\n     * @param {String} description\n     * @param {String} action\n     * @param {Function} onClick\n     *\n     * @returns {HTMLElement} Field element\n     */\n    renderButton(key, label, description, action, onClick) {\n        return _.div({class: 'page--level__user-input__field'},\n            _.h4({class: 'page--level__user-input__field__label'}, (label || '') + ': ' + this.model.company[key]),\n            _.div({class: 'page--level__user-input__field__description'}, description || ''),\n            _.button({class: 'widget widget--button'}, action)\n                .on('click', (e) => {\n                    onClick();\n                    \n                    this.model.save();\n                    Game.Views.Widgets.PlayerInfo.update();\n\n                    this.fetch();\n                })\n        );\n    }\n\n    /**\n     * Renders a calculation field\n     *\n     * @param {String} label\n     * @param {String} result\n     */\n    renderCalculationField(label, result) {\n        return _.div({class: 'page--level__calculations__field'},\n            _.h4({class: 'page--level__calculations__field__label'}, label),\n            _.div({class: 'page--level__calculations__field__result'}, result)\n        );\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'page page--level'},\n            _.div({class: 'page--level__numbers'},\n                _.div({class: 'page--level__user-input'},\n                    this.renderInputField('unitPrice', 'Unit price'),\n                    this.renderButton('machines', 'Machines', 'Price: 10000 kr.', 'Purchase', () => { this.model.company.purchaseMachine(); }),\n                    this.renderButton('inventory', 'Inventory', 'Cost: ' + this.model.company.unitProductionCost + ' kr.', 'Produce', () => { this.model.company.produceUnit(); }),\n                ),\n                _.div({class: 'page--level__calculations'},\n                    _.div({class: 'page--level__calculations__inner'},\n                        this.renderCalculationField('Sales', this.model.financialRecord.currentReport.sales + ' kr.'),\n                        this.renderCalculationField('Production cost', this.model.financialRecord.currentReport.productionCost + ' kr.') \n                    )\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = Level;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Pages/Level.js","'use strict';\n\n/**\n * The view controller\n */\nclass ViewController {\n    /**\n     * Initialise routes\n     */\n    static init() {\n        Crisp.Router.route('/', this.index);\n    \n        Crisp.Router.init();\n    }\n\n    /**\n     * Index route\n     */\n    static index() {\n        Crisp.View.clear(Crisp.View);\n\n        if(!Game.Services.ConfigService.get('completedSetup')) {\n            _.append(document.body,\n                new Game.Views.Widgets.PlayerInfo(),\n                new Game.Views.Pages.Setup() \n            );\n        } else {\n            _.append(document.body,\n                new Game.Views.Widgets.PlayerInfo(),\n                new Game.Views.Pages.Level() \n            );\n        }\n    }\n}\n\nViewController.init();\n\nmodule.exports = ViewController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Controllers/ViewController.js"],"sourceRoot":""}