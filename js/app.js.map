{"version":3,"sources":["webpack:///webpack/bootstrap f793c3dabe275b506517","webpack:///./src/index.js","webpack:///./src/Style/index.scss","webpack:///./src/Services/ConfigService.js","webpack:///./src/Services/TimeService.js","webpack:///./src/Services/DebugService.js","webpack:///./src/Services/SessionService.js","webpack:///./src/Models/Entity.js","webpack:///./src/Models/Player.js","webpack:///./src/Models/Company.js","webpack:///./src/Models/Report.js","webpack:///./src/Models/VATRecord.js","webpack:///./src/Models/VATPayment.js","webpack:///./src/Models/FinancialRecord.js","webpack:///./src/Views/Widgets/PlayerInfo.js","webpack:///./src/Views/Widgets/DebugMenu.js","webpack:///./src/Views/Widgets/ProgressBar.js","webpack:///./src/Views/Modals/Modal.js","webpack:///./src/Views/Modals/Message.js","webpack:///./src/Views/Modals/Transfer.js","webpack:///./src/Views/Modals/VATReportingTool.js","webpack:///./src/Views/Modals/FinancialReportingTool.js","webpack:///./src/Views/Drawers/Drawer.js","webpack:///./src/Views/Drawers/Timeline.js","webpack:///./src/Views/Drawers/QuestLog.js","webpack:///./src/Views/Drawers/Stats.js","webpack:///./src/Views/Drawers/Notifications.js","webpack:///./src/Views/Drawers/Controls.js","webpack:///./src/Views/Charts/PieChart.js","webpack:///./src/Views/Charts/CoinStack.js","webpack:///./src/Views/Pages/Setup.js","webpack:///./src/Views/Pages/BTaxEstimation.js","webpack:///./src/Views/Pages/Session.js","webpack:///./src/Controllers/ViewController.js"],"names":["require","window","_","Crisp","Elements","Game","MACHINE_PRICE","MACHINE_PRODUCTIVITY","PRODUCTION_COST","DEFAULT_UNIT_PRICE","MACHINE_PERSONAL_ACCOUNT_MINIMUM","PRICING_PERSONAL_ACCOUNT_MINIMUM","INCREASED_DEMAND_1_PERSONAL_ACCOUNT_MINIMUM","INCREASED_EFFICIENCY_PERSONAL_ACCOUNT_MINIMUM","INCREASED_PRODUCTIVITY_PERSONAL_ACCOUNT_MINIMUM","INCREASED_DEMAND_2_PERSONAL_ACCOUNT_MINIMUM","REDUCED_PRODUCTION_COST_PERSONAL_ACCOUNT_MINIMUM","Services","ConfigService","TimeService","DebugService","SessionService","Models","Entity","Player","Company","Report","VATRecord","VATPayment","FinancialRecord","Views","Widgets","PlayerInfo","DebugMenu","ProgressBar","Modals","Modal","Message","Transfer","VATReportingTool","FinancialReportingTool","Drawers","Drawer","Timeline","QuestLog","Stats","Notifications","Controls","Charts","PieChart","CoinStack","Pages","Setup","BTaxEstimation","Session","Controllers","ViewController","set","key","value","cache","parseFloat","Math","round","localStorage","setItem","JSON","stringify","e","get","defaultValue","parse","getItem","applyTestYear","time","Date","setMonth","setDate","getTime","location","reload","module","exports","prototype","reset","setHours","setMinutes","setSeconds","addHours","h","setTime","addDays","d","getDate","addMonths","m","getMonth","addYears","y","setYear","getFullYear","getMonthName","names","getQuarter","month","prettyPrint","string","wait","timeout","Promise","resolve","setTimeout","startClock","startDate","isPaused","_isPaused","document","querySelector","tick","currentTime","hoursPerSecond","isNewDay","lastDate","speed","amount","startTime","unix","currentYear","currentMonth","currentDate","previousQuarter","quarter","currentQuarter","getQuarterFromMonth","goToNextYear","autoReloadInterval","setAutoReload","isActive","clearInterval","setInterval","reloadStyle","reloadScript","styleTags","querySelectorAll","i","length","getAttribute","indexOf","setAttribute","now","scriptTags","clear","pause","play","autoProduceUnits","machines","p","getCurrentMachineProductivity","produceUnit","isQuestComplete","title","completedQuests","canAfford","companyAccount","getCurrentProductionCost","inventory","productivity","cost","getCurrentMachinePrice","price","pow","buyMachine","reportVat","date","year","tool","reject","on","financialReport","getBTax","btax","isPaid","setBTax","info","payBTax","Error","getVat","vat","isReported","firstMonth","lastMonth","sales","getSales","getCost","vatSales","vatCost","setVat","undefined","payVat","setUnitPrice","sellUnit","unitPrice","setSales","setCost","result","getSalesQuarter","getCostQuarter","getDemandFactor","getSalesDelay","getSalesPerDay","factor","constructor","params","structure","Object","Array","isArray","k","toString","seal","current","personalAccount","company","vatRecord","financialRecord","load","save","reportQuarterlyVAT","report","getQuarterlyReport","productionCost","payments","payQuarterlyVAT","payment","fine","alert","bankBalance","name","capital","unitProduction","unitProductionCost","demand","num","estimatedYearlySales","estimatedYearlySalesVAT","estimatedYearlyProductionCost","estimatedYearlyProductionCostVAT","estimatedYearlyIncome","estimatedYearlyBTax","estimatedVATPercentage","estimatedYearlyVAT","estimatedMonthlyBTax","player","currentReport","purchaseMachine","parseInt","append","generatePayments","firstYear","firstQuarter","targetYear","targetQuarter","thisFirstQuarter","thisTargetQuarter","dueAt","updateFine","diffDays","ceil","floor","reports","generateReports","targetMonth","thisFirstMonth","thisTargetMonth","View","model","notifications","fetch","_render","getTimeString","timeString","update","playerInfo","isExpanded","toggle","element","checked","notify","area","description","buttonLabel","onClick","btoa","clearNotification","getNotificationsString","keys","strings","notification","push","join","renderNotifications","ul","class","each","li","h4","if","button","click","hasNotifications","template","div","input","type","renderButton","label","max","message","progressBar","getAll","remove","body","setProgress","progress","dynamicAttributes","dynamicContent","modal","then","classList","renderHeader","renderBody","renderFooter","close","trigger","className","replace","toLowerCase","substring","isOpen","contains","size","canCancel","prerender","postrender","applyFocus","focusElement","focus","elevateFocusElement","isElevated","removeAttribute","style","position","zIndex","getBoundingClientRect","dialog","side","align","add","top","height","left","width","right","innerWidth","bottom","innerHeight","canSubmit","min","onChangeAmount","currentTarget","onClickTransfer","h1","step","setStep","account","btaxDifference","Router","go","estimatedIncome","btaxPaid","btaxPayable","abs","trim","renderContent","getNotification","expiresOn","action","onClickNotification","heartbeat","renderToggle","onClickPause","onClickPlay","onClickFastForward","state","loop","day","isSilent","do","setQuest","isComplete","quests","currentQuest","quest","expired","getExpiredNotification","charAt","slice","entry","createdOn","instance","isExpired","dynamicChildren","percent","dataset","crDynamicAttributes","catch","console","log","onClickPayBTax","onClickPayVAT","onClickReportVAT","onReachFinancialReport","onChangeUnitPrice","onClickBuyMachine","onClickProduce","disabled","span","getCoordinate","x","cos","PI","sin","setTranslation","getMean","numbers","mean","number","lerp","value1","value2","setSlice","duration","color","startPercent","startColor","startValue","svg","renderSlices","delta","labels","renderLabels","requestAnimationFrame","sliceIndex","start","end","largeArc","pathData","path","fill","showPercentage","viewBox","currentAmount","coinHeight","coins","transfer","from","to","stackElement","coin","getStackAmount","_amount","getAmountStyle","index","children","getPositionStyle","opacity","translateX","maxCoinsPerStack","getTotalStacks","stacks","totalAmount","thisAmount","for","total","updatePieChart","pieChart","onChangeName","onChangeCapital","onChangeProduct","productName","onClickNext","placeholder","income","onChangeIncome","finalBTax","innerHTML","onClickCalculate","onClickDone","hash","a","href","hearbeatInterval","sellTimeout","clearTimeout","startInitTutorial","startBTaxTutorial","startQuestTutorial","startPricingTutorial","startMachinesTutorial","questLog","controls","timeline","stats","stackAmount","coinStack","onInput","removeEventListener","addEventListener","produce","count","init","route","session"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f793c3dabe275b506517","'use strict';\n\nrequire('./Style/index.scss');\n\nwindow._ = Crisp.Elements;\n\n// -------------------\n// Constants\n// -------------------\nwindow.Game = {\n    // Standard constants\n    MACHINE_PRICE: 1000,\n    MACHINE_PRODUCTIVITY: 1,\n    PRODUCTION_COST: 10,\n    DEFAULT_UNIT_PRICE: 40,\n    \n    // Quest goal constants\n    MACHINE_PERSONAL_ACCOUNT_MINIMUM: 5000,\n    PRICING_PERSONAL_ACCOUNT_MINIMUM: 7500,\n    INCREASED_DEMAND_1_PERSONAL_ACCOUNT_MINIMUM: 10000,\n    INCREASED_EFFICIENCY_PERSONAL_ACCOUNT_MINIMUM: 12500,\n    INCREASED_PRODUCTIVITY_PERSONAL_ACCOUNT_MINIMUM: 15000,\n    INCREASED_DEMAND_2_PERSONAL_ACCOUNT_MINIMUM: 17500,\n    REDUCED_PRODUCTION_COST_PERSONAL_ACCOUNT_MINIMUM: 20000\n};\n\n// -------------------\n// Services\n// -------------------\nGame.Services = {};\nGame.Services.ConfigService = require('./Services/ConfigService');\nGame.Services.TimeService = require('./Services/TimeService');\nGame.Services.DebugService = require('./Services/DebugService');\nGame.Services.SessionService = require('./Services/SessionService');\n\n// -------------------\n// Models\n// -------------------\nGame.Models = {};\nGame.Models.Entity = require('./Models/Entity');\nGame.Models.Player = require('./Models/Player');\nGame.Models.Company = require('./Models/Company');\nGame.Models.Report = require('./Models/Report');\nGame.Models.VATRecord = require('./Models/VATRecord');\nGame.Models.VATPayment = require('./Models/VATPayment');\nGame.Models.FinancialRecord = require('./Models/FinancialRecord');\n\n// -------------------\n// Views\n// -------------------\nGame.Views = {};\n\nGame.Views.Widgets = {};\nGame.Views.Widgets.PlayerInfo = require('./Views/Widgets/PlayerInfo');\nGame.Views.Widgets.DebugMenu = require('./Views/Widgets/DebugMenu');\nGame.Views.Widgets.ProgressBar = require('./Views/Widgets/ProgressBar');\n\nGame.Views.Modals = {};\nGame.Views.Modals.Modal = require('./Views/Modals/Modal');\nGame.Views.Modals.Message = require('./Views/Modals/Message');\nGame.Views.Modals.Transfer = require('./Views/Modals/Transfer');\nGame.Views.Modals.VATReportingTool = require('./Views/Modals/VATReportingTool');\nGame.Views.Modals.FinancialReportingTool = require('./Views/Modals/FinancialReportingTool');\n\nGame.Views.Drawers = {};\nGame.Views.Drawers.Drawer = require('./Views/Drawers/Drawer');\nGame.Views.Drawers.Timeline = require('./Views/Drawers/Timeline');\nGame.Views.Drawers.QuestLog = require('./Views/Drawers/QuestLog');\nGame.Views.Drawers.Stats = require('./Views/Drawers/Stats');\nGame.Views.Drawers.Notifications = require('./Views/Drawers/Notifications');\nGame.Views.Drawers.Controls = require('./Views/Drawers/Controls');\n\nGame.Views.Charts = {};\nGame.Views.Charts.PieChart = require('./Views/Charts/PieChart');\nGame.Views.Charts.CoinStack = require('./Views/Charts/CoinStack');\n\nGame.Views.Pages = {};\nGame.Views.Pages.Setup = require('./Views/Pages/Setup');\nGame.Views.Pages.BTaxEstimation = require('./Views/Pages/BTaxEstimation');\nGame.Views.Pages.Session = require('./Views/Pages/Session');\n\n// -------------------\n// Controllers\n// -------------------\nGame.Controllers = {};\nGame.Controllers.ViewController = require('./Controllers/ViewController');\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Style/index.scss\n// module id = 1\n// module chunks = 0","'use strict';\n\n/**\n * The service for user config stored in localStorage\n */\nclass ConfigService {\n    /**\n     * Sets a value\n     *\n     * @param {String} key\n     * @param {Object} value\n     */\n    static set(key, value) {\n        if(!this.cache) { this.cache = {}; }\n\n        if(!!parseFloat(value)) {\n            value = parseFloat(value);\n            value = Math.round(value * 100) / 100;\n        }\n\n        try {\n            localStorage.setItem(key, JSON.stringify(value));\n        } catch(e) {\n            localStorage.setItem(key, value);\n        }\n        \n        this.cache[key] = value;\n    }\n\n    /**\n     * Gets a value\n     *\n     * @param {String} key\n     * @param {Object} defaultValue\n     *\n     * @returns {Object} Value\n     */\n    static get(key, defaultValue) {\n        if(!this.cache) { this.cache = {}; }\n\n        if(this.cache[key]) { return this.cache[key]; }\n\n        let value;\n\n        // Parse object\n        try {\n            value = JSON.parse(localStorage.getItem(key)) || defaultValue;\n\n        } catch(e) {\n            value = localStorage.getItem(key) || defaultValue;\n        }\n        \n        // Parse number\n        if(!!parseFloat(value)) {\n            value = parseFloat(value);    \n            value = Math.round(value * 100) / 100;\n        }\n\n        this.cache[key] = value;\n\n        return value;\n    }\n\n    /**\n     * Applies a test year\n     */\n    static applyTestYear() {\n        this.set('btax', {\"2018\":{\"1\":{\"isPaid\":true,\"amount\":950},\"2\":{\"isPaid\":true,\"amount\":950},\"3\":{\"isPaid\":true,\"amount\":950},\"4\":{\"isPaid\":true,\"amount\":950},\"5\":{\"isPaid\":true,\"amount\":950},\"6\":{\"isPaid\":true,\"amount\":950},\"7\":{\"isPaid\":true,\"amount\":950},\"8\":{\"isPaid\":true,\"amount\":950},\"9\":{\"isPaid\":true,\"amount\":950},\"10\":{\"isPaid\":true,\"amount\":950},\"11\":{\"isPaid\":true,\"amount\":950},\"12\":{\"isPaid\":true,\"amount\":950}},\"2019\":{\"1\":{\"isPaid\":false,\"amount\":950},\"2\":{\"isPaid\":false,\"amount\":950}}});\n        this.set('cost', {\"2018\":{\"1\":1273.5,\"2\":1104.5,\"3\":844.5,\"4\":1013.5,\"5\":1234.5,\"6\":1182.5,\"7\":805.5,\"8\":779.5,\"9\":740.5,\"10\":779.5,\"11\":610.5,\"12\":701.5}});\n        this.set('sales', {\"2018\":{\"1\":2462.5,\"2\":3500,\"3\":3687.5,\"4\":2925,\"5\":3562.5,\"6\":3512.5,\"7\":3875,\"8\":3750,\"9\":3562.5,\"10\":3750,\"11\":2937.5,\"12\":3375}});\n        this.set('vat', {\"2018\":{\"1\":{\"amount\":1285.2,\"isPaid\":false,\"isReported\":true},\"2\":{\"amount\":1313.6,\"isPaid\":false,\"isReported\":true},\"3\":{\"amount\":1772.1,\"isPaid\":false,\"isReported\":true}}});\n\n        let time = new Date(this.get('startTime'));\n\n        time.setMonth(11);\n        time.setDate(31);\n\n        this.set('time', time.getTime());\n\n        location.reload();\n    }\n}\n\nmodule.exports = ConfigService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/ConfigService.js","'use strict';\n\n/**\n * Resets hours, minutes and seconds of a date\n */\nDate.prototype.reset = function() {\n    this.setHours(0);\n    this.setMinutes(0);\n    this.setSeconds(0);\n\n    return this;\n};\n\n/**\n * Adds hours to a date\n */\nDate.prototype.addHours = function(h) {    \n    this.setTime(this.getTime() + (h*60*60*1000)); \n    return this;   \n}\n\n/**\n * Adds days to a date\n */\nDate.prototype.addDays = function(d) {\n    this.setDate(this.getDate() + d); \n    return this;   \n}\n\n/**\n * Adds months to a date\n */\nDate.prototype.addMonths = function(m) {\n    this.setMonth(this.getMonth() + m); \n    return this;   \n}\n\n/**\n * Adds years to a date\n */\nDate.prototype.addYears = function(y) {\n    this.setYear(this.getFullYear() + y); \n    return this;   \n}\n\n/**\n * Gets the actual month\n */\nDate.prototype.getMonthName = function() {\n    const names = [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December'\n    ];\n\n    return names[this.getMonth()];\n}\n\n/**\n * Gets quarter from a date\n */\nDate.prototype.getQuarter = function() {\n    let month = this.getMonth() + 1;\n\n    if(month <= 3) { return 1; }\n    if(month <= 6) { return 2; }\n    if(month <= 9) { return 3; }\n    return 4;\n}\n\n/**\n * Pretty prints a date\n */\nDate.prototype.prettyPrint = function() {\n    let string = this.getFullYear() + '-';\n\n    if(this.getMonth() + 1 < 10) {\n        string += '0';\n    }\n\n    string += (this.getMonth() + 1) + '-';\n    \n    if(this.getDate() < 10) {\n        string += '0';\n    }\n\n    string += this.getDate();\n\n    return string;\n}\n\n/**\n * A global helper function for wrapping setTimeout in a promise\n *\n * @param {Number} timeout\n *\n * @returns {Promise} Callback\n */\nwindow.wait = (timeout) => {\n    timeout = timeout || 0;\n    timeout *= 1000;\n\n    return new Promise((resolve) => {\n        setTimeout(() => { resolve(); }, timeout);\n    });\n};\n\n/**\n * The service for managing time\n */\nclass TimeService {\n    /**\n     * Starts the clock\n     */\n    static startClock() {\n        let startDate = new Date();\n        startDate.reset();\n        startDate.setMonth(0);\n        startDate.setDate(1);\n\n        Game.Services.ConfigService.set('time', startDate.getTime());\n        Game.Services.ConfigService.set('startTime', startDate.getTime());\n    }\n\n    /**\n     * Sets paused time\n     *\n     * @param {Boolean} isPaused\n     */\n    static set isPaused(isPaused) {\n        this._isPaused = isPaused;\n    }\n\n    /**\n     * Gets paused time\n     *\n     * @returns {Boolean} Is paused\n     */\n    static get isPaused() {\n        return !!document.querySelector('.modal') || !!this._isPaused;\n    }\n\n    /**\n     * Ticks the time\n     */\n    static tick() {\n        let time = this.currentTime;\n\n        time.addHours(this.hoursPerSecond);\n\n        this.isNewDay = this.lastDate !== time.getDate();\n\n        this.lastDate = time.getDate();\n\n        Game.Services.ConfigService.set('time', time.getTime());\n    }\n\n    /**\n     * Gets hours per second\n     *\n     * @returns {Number} Hours per second\n     */\n    static get hoursPerSecond() {\n        return 6 * (this.speed || 1);\n    }\n\n    /**\n     * Adds days to the current time\n     *\n     * @param {Number} amount\n     */\n    static addDays(amount) {\n        let time = this.currentTime;\n\n        time.addHours(amount * 24);\n\n        Game.Services.ConfigService.set('time', time.getTime());\n    }\n    \n    /**\n     * Gets the start time\n     */\n    static get startTime() {\n        let unix = Game.Services.ConfigService.get('startTime');\n\n        if(!unix) { return new Date(); }\n\n        return new Date(unix);\n    }\n\n    /**\n     * Gets the current time\n     */\n    static get currentTime() {\n        let unix = Game.Services.ConfigService.get('time');\n\n        if(!unix) { return new Date(); }\n\n        return new Date(unix);\n    }\n    \n    /**\n     * Sets the current time\n     */\n    static set currentTime(time) {\n        Game.Services.ConfigService.set('time', time.getTime());\n    }\n\n    /**\n     * Gets the current year\n     */\n    static get currentYear() {\n        return this.currentTime.getFullYear();\n    }\n    \n    /**\n     * Gets the current month\n     */\n    static get currentMonth() {\n        return this.currentTime.getMonth() + 1;\n    }\n    \n    /**\n     * Gets the current date\n     */\n    static get currentDate() {\n        return this.currentTime.getDate()\n    }\n\n    /**\n     * Gets the previous quarter\n     */\n    static get previousQuarter() {\n        let quarter = this.currentQuarter - 1;\n\n        if(quarter <= 0) {\n            quarter = 4;\n        }\n\n        return quarter;\n    }\n\n    /**\n     * Gets a quarter from a month\n     *\n     * @param {Number} month\n     *\n     * @returns {Number} Quarter\n     */\n    static getQuarterFromMonth(month) {\n        if(month > 9) {\n            return 4;\n        } else if(month > 6) {\n            return 3;\n        } else if(month > 3) {\n            return 2;\n        } else {\n            return 1;\n        }\n    }\n\n    /**\n     * Gets the current quarter\n     */\n    static get currentQuarter() {\n        return this.getQuarterFromMonth(this.currentTime.getMonth() + 1)\n    }\n\n    /**\n     * Goes to the next year\n     */\n    static goToNextYear() {\n        let time = this.currentTime;\n\n        time.setYear(time.getFullYear() + 1);\n        time.setMonth(0);\n        time.setDate(1);\n\n        this.currentTime = time;\n    }\n}\n\nmodule.exports = TimeService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/TimeService.js","'use strict';\n\nlet autoReloadInterval;\n\n/**\n * A service for debugging\n */\nclass DebugService {\n    /**\n     * Sets auto reload on/off\n     *\n     * @param {Boolean} isActive\n     */\n    static setAutoReload(isActive) {\n        if(!isActive && autoReloadInterval) {\n            clearInterval(autoReloadInterval);\n        }\n\n        if(isActive && !autoReloadInterval) {\n            autoReloadInterval = setInterval(() => {\n                if(Game.isPaused) { return; }\n\n                this.reloadStyle();\n                this.reloadScript();\n            }, 500);\n        }\n    }\n\n    /**\n     * Reloads styles\n     */\n    static reloadStyle() {\n        let styleTags = document.querySelectorAll('link');\n\n        if(!styleTags) { return; }\n\n        for(let i = 0; i < styleTags.length; i++) {\n            if(styleTags[i].getAttribute('href').indexOf('css/app.css') === 0) {\n                styleTags[i].setAttribute('href', 'css/app.css?' + Date.now());\n                return;\n            }\n        }\n    }\n\n    /**\n     * Reloads scripts\n     */\n    static reloadScript() {\n        let scriptTags = document.querySelectorAll('script');\n\n        if(!scriptTags) { return; }\n\n        for(let i = 0; i < scriptTags.length; i++) {\n            if(scriptTags[i].getAttribute('src').indexOf('js/app.js') === 0) {\n                scriptTags[i].setAttribute('src', 'js/app.js?' + Date.now());\n                return;\n            }\n        }\n    }\n    \n    /**\n     * Resets the game\n     */\n    static reset() {\n        localStorage.clear();\n        \n        location.reload();\n    }\n\n    /**\n     * Pauses the game\n     */\n    static pause() {\n        Game.isPaused = true; \n    }\n\n    /**\n     * Plays the game\n     */\n    static play() {\n        Game.isPaused = false; \n    }\n}\n\nmodule.exports = DebugService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/DebugService.js","'use strict';\n\n/**\n * A general helper service for common actions\n */\nclass SessionService {\n    /**\n     * Automatically produces units\n     */\n    static autoProduceUnits() {\n        let machines = Game.Services.ConfigService.get('machines', 0);\n\n        if(machines < 1) { return; }\n        \n        for(let m = 0; m < machines; m++) {\n            for(let p = 0; p < this.getCurrentMachineProductivity(); p++) {\n                this.produceUnit();\n            }\n        }\n    }\n\n    /**\n     * Checks if a quest has been completed\n     *\n     * @param {String} title\n     *\n     * @returns {Boolean} Has been completed\n     */\n    static isQuestComplete(title) {\n        let completedQuests = Game.Services.ConfigService.get('completedQuests', []);\n       \n        return completedQuests.indexOf(title) > -1;\n    }\n\n    /**\n     * Checks if the player can afford a certain amount\n     *\n     * @param {Number} amount\n     *\n     * @returns {Boolean} Can afford\n     */\n    static canAfford(amount) {\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n        return companyAccount >= amount;\n    }\n\n    /**\n     * Produces a unit\n     */\n    static produceUnit() {\n        if(!this.canAfford(this.getCurrentProductionCost())) { return; }\n\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n        let inventory = Game.Services.ConfigService.get('inventory', 0);\n\n        Game.Services.ConfigService.set('inventory', inventory + 1);\n        Game.Services.ConfigService.set('companyAccount', companyAccount - this.getCurrentProductionCost());\n    }\n\n    /**\n     * Gets the current machine productivity\n     *\n     * @returns {Number} Machine productivity\n     */\n    static getCurrentMachineProductivity() {\n        let productivity = Game.MACHINE_PRODUCTIVITY;\n\n        if(this.isQuestComplete('Productivity')) {\n            productivity++;\n        }\n\n        return productivity;\n    }\n\n    /**\n     * Gets the current production cost\n     *\n     * @returns {Number} Current production cost\n     */\n    static getCurrentProductionCost() {\n        let cost = Game.PRODUCTION_COST;\n\n        if(this.isQuestComplete('Cost')) {\n            cost -= cost * 0.1;\n        }\n\n        return cost;\n    }\n\n    /**\n     * Gets the current machine price\n     *\n     * @returns {Number} Current machine price\n     */\n    static getCurrentMachinePrice() {\n        let machines = Game.Services.ConfigService.get('machines', 0);\n        let price = Game.MACHINE_PRICE;\n\n        if(machines > 0) {\n            price = price * Math.pow(1.5, machines);\n        }\n\n        return price;\n    }\n\n    /**\n     * Buys a machine\n     */\n    static buyMachine() {\n        let machines = Game.Services.ConfigService.get('machines', 0);\n        let price = this.getCurrentMachinePrice();\n\n        if(!this.canAfford(price)) { return; }\n\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n        Game.Services.ConfigService.set('machines', machines + 1);\n        Game.Services.ConfigService.set('companyAccount', companyAccount - price);\n    }\n\n    /**\n     * Report VAT\n     *\n     * @param {Date} date\n     *\n     * @return {Promise}\n     */\n    static reportVat(date) {\n        let year = date.getFullYear();\n        let quarter = date.getQuarter() - 1;\n\n        if(quarter < 1) {\n            quarter = 4;\n            year--;\n        }\n\n        let tool = new Game.Views.Modals.VATReportingTool({\n            year: year,\n            quarter: quarter\n        });\n\n        return new Promise((resolve, reject) => {\n            tool.on('submit', () => {\n                resolve();\n            });\n\n            tool.on('cancel', () => {\n                reject();\n            });\n        });\n    }\n    \n    /**\n     * Financial report\n     *\n     * @param {Date} date\n     *\n     * @return {Promise}\n     */\n    static financialReport(date) {\n        let year = date.getFullYear();\n\n        let tool = new Game.Views.Modals.FinancialReportingTool({\n            year: year\n        });\n\n        return new Promise((resolve, reject) => {\n            tool.on('submit', () => {\n                resolve();\n            });\n\n            tool.on('cancel', () => {\n                reject();\n            });\n        });\n    }\n\n    /**\n     * Gets the B tax information\n     *\n     * @param {Number} year\n     * @param {Number} month\n     *\n     * @returns { Object} B Tax info\n     */\n    static getBTax(year, month) {\n        let btax = Game.Services.ConfigService.get('btax', {});\n\n        if(!btax[year]) {\n            btax[year] = {};\n        }\n       \n        if(!btax[year][month]) {\n            btax[year][month] = {\n                isPaid: false,\n                amount: 0\n            };\n        }\n        \n        if(!btax[year][month].isPaid) {\n            btax[year][month].amount = Math.round(Game.Services.ConfigService.get('btaxAmount', 0) / 12);\n        }\n\n        return btax[year][month];\n    }\n    \n    /**\n     * Sets the B tax information\n     *\n     * @param {Number} year\n     * @param {Number} month\n     * @param {Object} info\n     */\n    static setBTax(year, month, info) {\n        let btax = Game.Services.ConfigService.get('btax', {});\n\n        if(!btax[year]) { btax[year] = {}; }\n\n        btax[year][month] = info;\n\n        Game.Services.ConfigService.set('btax', btax);\n    }\n\n    /**\n     * Pay B tax\n     *\n     * @param {Date} date\n     *\n     * @return {Promise}\n     */\n    static payBTax(date) {\n        let btax = this.getBTax(date.getFullYear(), date.getMonth() + 1);\n\n        if(btax.isPaid) { \n            return Promise.reject(new Error('You\\'ve already paid B tax for ' + date.getMonthName() + ' ' + date.getFullYear()));\n        }\n\n        let amount = Game.Services.ConfigService.get('btaxAmount', 0);\n\n        if(amount > 0) { amount = Math.round(amount/12); }\n        \n        if(!this.canAfford(amount)) {\n            return Promise.reject(new Error('You don\\'t have enough money in your company account to pay B tax'));\n        }\n       \n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n        Game.Services.ConfigService.set('companyAccount', companyAccount - amount);\n\n        btax.isPaid = true;\n\n        this.setBTax(date.getFullYear(), date.getMonth() + 1, btax);\n\n        return Promise.resolve();\n    }\n    \n    /**\n     * Gets VAT info\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     *\n     * @returns {Object} VAT info\n     */\n    static getVat(year, quarter) {\n        let vat = Game.Services.ConfigService.get('vat', {});\n\n        if(!year) { return vat; }\n\n        if(!vat[year]) { vat[year] = {}; }\n\n        if(!quarter) { return vat[year]; }\n\n        if(!vat[year][quarter]) { vat[year][quarter] = { amount: 0, isPaid: false, isReported: false }; }\n            \n        vat[year][quarter].amount = 0;\n\n        let firstMonth = ((quarter - 1) * 3) + 1;\n        let lastMonth = firstMonth + 2;\n\n        for(let month = firstMonth; month <= lastMonth; month++) {\n            let sales = this.getSales(year, month);\n            let cost = this.getCost(year, month);\n\n            let vatSales = (sales / 1.25) * 0.25;\n            let vatCost = (cost / 1.25) * 0.25;\n\n            vat[year][quarter].amount += vatSales - vatCost;\n        }\n            \n        // Round to 2 decimals\n        vat[year][quarter].amount = Math.round(vat[year][quarter].amount * 100) / 100;\n            \n        return vat[year][quarter];\n    }\n\n    /**\n     * Sets VAT info\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     * @param {Boolean} isReported\n     * @param {Boolean} isPaid\n     * @param {Number} amount\n     */\n    static setVat(year, quarter, isReported, isPaid, amount) {\n        if(!year) { throw new Error('Year is required'); }\n        if(!quarter) { throw new Error('Quarter is required'); }\n\n        let vat = Game.Services.ConfigService.get('vat', {});\n        \n        if(!vat[year]) { vat[year] = {}; }\n        if(!vat[year][quarter]) { vat[year][quarter] = {} }\n        \n        if(isReported !== undefined) {\n            vat[year][quarter].isReported = isReported;\n        }\n\n        if(isPaid !== undefined) {\n            vat[year][quarter].isPaid = isPaid;\n        }\n\n        if(amount !== undefined) {\n            vat[year][quarter].amount = amount;\n        }\n\n        Game.Services.ConfigService.set('vat', vat);\n    }\n\n    /**\n     * Pay VAT\n     *\n     * @param {Date} date\n     *\n     * @return {Promise}\n     */\n    static payVat(date) {\n        let year = date.getFullYear();\n        let quarter = date.getQuarter() - 1;\n\n        if(quarter < 1) {\n            quarter = 4;\n            year--;\n        }\n\n        let vat = this.getVat(year, quarter);\n\n        if(vat.isPaid) { return; }\n\n        if(!this.canAfford(vat.amount)) {\n            return Promise.reject('You don\\'t have enough money in your company account to pay VAT');\n        }\n\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n        Game.Services.ConfigService.set('companyAccount', companyAccount - vat.amount);\n\n        return Promise.resolve('VAT for ' + year + ' Q' + quarter + ' has been paid');\n    }\n\n    /**\n     * Sets the unit price\n     *\n     * @param {Number} price \n     */\n    static setUnitPrice(price) {\n        Game.Services.ConfigService.set('unitPrice', price);\n    }\n\n    /**\n     * Sells an appropriate amount of units\n     */\n    static sellUnit() {\n        let inventory = Game.Services.ConfigService.get('inventory', 0);\n\n        if(inventory < 1) { return; }\n\n        let year = Game.Services.TimeService.currentYear;\n        let month = Game.Services.TimeService.currentMonth;\n       \n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n        let sales = this.getSales(year, month);\n        let cost = this.getCost(year, month);\n        let unitPrice = Game.Services.ConfigService.get('unitPrice', Game.DEFAULT_UNIT_PRICE);\n\n        sales += unitPrice * 1.25;\n        cost += this.getCurrentProductionCost() * 1.25;\n\n        this.setSales(year, month, sales);\n        this.setCost(year, month, cost);\n                \n        Game.Services.ConfigService.set('inventory', inventory - 1);\n        Game.Services.ConfigService.set('companyAccount', companyAccount + unitPrice);\n        Game.Services.ConfigService.set('lastSale', Date.now());\n    }\n\n    /**\n     * Gets the sales numbers\n     *\n     * @param {Number} year\n     * @param {Number} month\n     *\n     * @param {Number} Sales\n     */\n    static getSales(year, month) {\n        let result = 0;\n        let sales = Game.Services.ConfigService.get('sales', {});\n\n        if(year && !sales[year]) { sales[year] = {}; }\n        if(month && !sales[year][month]) { sales[year][month] = 0; }\n    \n        // Specific month\n        if(year && month) {\n            result = parseFloat(sales[year][month]) || 0;\n\n        // Specific year\n        } else if(year) {\n            for(let m in sales[year]) {\n                result += parseFloat(sales[year][m]) || 0;\n            }\n        \n        // Result sales\n        } else {\n            for(let y in sales) {\n                for(let m in sales[y]) {\n                    result += parseFloat(sales[y][m]) || 0;\n                }\n            }\n        }\n\n        return result;\n    }\n   \n    /**\n     * Gets sales per quarter\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     *\n     * @returns {Number} Sales per quarter\n     */\n    static getSalesQuarter(year, quarter) {\n        let result = 0;\n\n        let month = (quarter - 1) * 3 + 1;\n\n        result += this.getSales(year, month);\n        \n        month++;\n\n        result += this.getSales(year, month);\n        \n        month++;\n        \n        result += this.getSales(year, month);\n\n        return result;\n    }\n\n    /**\n     * Sets the sales numbers\n     *\n     * @param {Number} year\n     * @param {Number} month\n     * @param {Number} amount\n     */\n    static setSales(year, month, amount) {\n        if(!year) { throw new Error('Year is required'); }\n        if(!month) { throw new Error('Month is required'); }\n\n        let sales = Game.Services.ConfigService.get('sales', {});\n\n        if(!year) { return sales; }\n\n        if(!sales[year]) { sales[year] = {}; }\n\n        if(!month) { return sales[year]; }\n        \n        if(!sales[year][month]) { sales[year][month] = 0; }\n\n        sales[year][month] = amount;\n        \n        Game.Services.ConfigService.set('sales', sales);\n    }\n    \n    /**\n     * Gets the cost numbers\n     *\n     * @param {Number} year\n     * @param {Number} month\n     *\n     * @param {Object|Number} cost\n     */\n    static getCost(year, month) {\n        let result = 0;\n        let cost = Game.Services.ConfigService.get('cost', {});\n\n        if(year && !cost[year]) { cost[year] = {}; }\n        if(month && !cost[year][month]) { cost[year][month] = 0; }\n    \n        // Specific month\n        if(year && month) {\n            result = parseFloat(cost[year][month]) || 0;\n\n        // Specific year\n        } else if(year) {\n            for(let m in cost[year]) {\n                result += parseFloat(cost[year][m]) || 0;\n            }\n        \n        // Result cost\n        } else {\n            for(let y in cost) {\n                for(let m in cost[y]) {\n                    result += parseFloat(cost[y][m]) || 0;\n                }\n            }\n        }\n\n        return Math.round(result);\n    }\n    \n    /**\n     * Gets cost per quarter\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     *\n     * @returns {Number} Cost per quarter\n     */\n    static getCostQuarter(year, quarter) {\n        let result = 0;\n\n        let month = (quarter - 1) * 3 + 1;\n\n        result += this.getCost(year, month);\n        \n        month++;\n\n        result += this.getCost(year, month);\n        \n        month++;\n        \n        result += this.getCost(year, month);\n\n        return result;\n    }\n\n    /**\n     * Sets the cost numbers\n     *\n     * @param {Number} year\n     * @param {Number} month\n     * @param {Number} amount\n     */\n    static setCost(year, month, amount) {\n        if(!year) { throw new Error('Year is required'); }\n        if(!month) { throw new Error('Month is required'); }\n\n        let cost = Game.Services.ConfigService.get('cost', {});\n\n        if(!year) { return cost; }\n\n        if(!cost[year]) { cost[year] = {}; }\n\n        if(!month) { return cost[year]; }\n        \n        if(!cost[year][month]) { cost[year][month] = 0; }\n\n        cost[year][month] = amount;\n        \n        Game.Services.ConfigService.set('cost', cost);\n    }\n\n    /**\n     * Gets the demand\n     *\n     * @returns {Number} Demand factor\n     */\n    static getDemandFactor() {\n        let unitPrice = Game.Services.ConfigService.get('unitPrice', 0);\n\n        // Nobody wants units above 500 DKK \n        if(unitPrice > 500) {\n            return 0;\n        }\n        \n        if(this.isQuestComplete('Demand 2')) {\n            return (unitPrice/100) * 0.8;\n        }\n\n        if(this.isQuestComplete('Demand 1')) {\n            return (unitPrice/100) * 0.9;\n        }\n\n        return unitPrice/100;\n    }\n\n    /**\n     * Gets the sales delay in milliseconds\n     *\n     * @returns {Number} Sales delay\n     */\n    static getSalesDelay() {\n        return this.getDemandFactor() * 1000 * 24 / Game.Services.TimeService.hoursPerSecond;\n    }\n\n    /**\n     * Gets sales per day\n     *\n     * @returns {Number} Sales per day\n     */\n    static getSalesPerDay() {\n        let factor = this.getDemandFactor();\n\n        if(factor <= 0) { return 0; }\n\n        return Math.round(Math.pow(factor, -1) * 100) / 100;\n    }\n}\n\nmodule.exports = SessionService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Services/SessionService.js","'use strict';\n\n/**\n * The base model for everything\n */\nclass Entity {\n    /**\n     * Constructor\n     *\n     * @param {Object} params\n     */\n    constructor(params) {\n        this.structure();\n\n        if(params && params instanceof Object && !Array.isArray(params)) {\n            for(let k in params) {\n                switch(typeof this[k]) {\n                    case 'number':\n                        this[k] = parseFloat(params[k] || 0);\n                        break;\n\n                    case 'string':\n                        this[k] = (params[k] || '').toString();\n                        break;\n\n                    default:\n                        this[k] = params[k];\n                        break;\n                }\n            }\n        }\n\n        Object.seal(this);\n    }\n\n    /**\n     * Defines the structure of this model\n     */\n    structure() {}\n}\n\nmodule.exports = Entity;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Entity.js","'use strict';\n\nlet current;\n\n/**\n * The player model\n */\nclass Player extends Game.Models.Entity {\n    /**\n     * Structure\n     */\n    structure() {\n        this.personalAccount = 50000;\n        this.company = new Game.Models.Company();\n        this.vatRecord = new Game.Models.VATRecord();\n        this.financialRecord = new Game.Models.FinancialRecord();  \n    }\n\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.company = new Game.Models.Company(this.company);\n        this.vatRecord = new Game.Models.VATRecord(this.vatRecord);\n        this.financialRecord = new Game.Models.FinancialRecord(this.financialRecord);\n    }\n\n    /**\n     * Loads the player data\n     *\n     * @returns {Player} Player\n     */\n    static load() {\n        return new Player(Game.Services.ConfigService.get('player'));\n    }\n\n    /**\n     * Get the current player\n     */\n    static get current() {\n        if(!current) {\n            current = this.load();\n        }\n\n        return current;\n    }\n\n    /**\n     * Saves the player data\n     */\n    save() {\n        Game.Services.ConfigService.set('player', this);\n    }\n    \n    /**\n     * Reports VAT quarterly\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     */\n    reportQuarterlyVAT(year, quarter) {\n        let amount = 0;\n\n        let report = this.financialRecord.getQuarterlyReport(year, quarter);     \n\n        amount += report.sales * 0.25; // Sales VAT\n        amount -= report.productionCost / 1.25 * 0.25; // Cost VAT\n\n        this.vatRecord.payments[year][quarter].isReported = true; \n        this.vatRecord.payments[year][quarter].amount = amount;\n    }\n    \n    /**\n     * Pays VAT quarterly\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     */\n    payQuarterlyVAT(year, quarter) {\n        let payment = this.vatRecord.payments[year][quarter];\n        let amount = payment.amount;\n\n        if(payment.fine > 0) {\n            amount += payment.fine;\n\n            alert('A late fee of ' + payment.fine + ' kr. has been added');\n        }\n\n        this.company.bankBalance -= amount;\n        payment.isPaid = true; \n    }\n}\n\nmodule.exports = Player;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Player.js","'use strict';\n\n/**\n * The main company model\n */\nclass Company extends Game.Models.Entity {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n    }\n\n    /**\n     * Structure\n     */\n    structure() {\n        this.name = 'My Company A/S';\n        this.capital = 20000;\n        this.bankBalance = 0;\n        this.unitPrice = 20;\n        this.unitProduction = 5000;\n        this.unitProductionCost = 10;\n        this.demand = 10000;\n\n        this.inventory = 0;\n        this.machines = 0;\n    }\n\n    /**\n     * Rounds a number by 2 decimal places\n     */\n    round(num) {\n        return Math.round(num * 100) / 100;\n    }\n\n    /**\n     * Gets the estimated yearly sales\n     */\n    get estimatedYearlySales() {\n        return this.round(this.demand * this.unitPrice);\n    }\n    \n    /**\n     * Gets the estimated yearly sales VAT\n     */\n    get estimatedYearlySalesVAT() {\n        return this.round(this.estimatedYearlySales * 0.25);\n    }\n    \n    /**\n     * Gets the estimated yearly cost\n     */\n    get estimatedYearlyProductionCost() {\n        return this.round(this.unitProduction * this.unitProductionCost);\n    }\n    \n    /**\n     * Gets the estimated yearly cost VAT\n     */\n    get estimatedYearlyProductionCostVAT() {\n        return this.round(this.estimatedYearlyProductionCost / 1.25 * 0.25);\n    }\n    \n    /**\n     * Gets the estimated income\n     */\n    get estimatedYearlyIncome() {\n        return this.round(this.estimatedYearlySales - this.estimatedYearlyProductionCost);\n    }\n\n    /**\n     * Gets the estimated yearly B tax\n     */\n    get estimatedYearlyBTax() {\n        return this.round(this.estimatedYearlyIncome * this.estimatedVATPercentage / 100);\n    }\n    \n    /**\n     * Gets the estimated yearly VAT\n     */\n    get estimatedYearlyVAT() {\n        return this.round(this.estimatedYearlySalesVAT - this.estimatedYearlyProductionCostVAT);\n    }\n\n    /**\n     * Gets the estimated monthly B tax\n     */\n    get estimatedMonthlyBTax() {\n        return this.round(this.estimatedYearlyBTax / 12);\n    }\n\n    /**\n     * Gets the estimated VAT percentage\n     */\n    get estimatedVATPercentage() {\n        return 38;\n    }\n    \n    /**\n     * Saves this company\n     */\n    save() {\n        let player = Game.Models.Player.current;\n\n        player.company = this;\n\n        player.save();\n    }\n\n    /**\n     * Sells a unit\n     */\n    sellUnit() {\n        if(this.inventory < 1) { return; }\n        \n        this.inventory--;\n\n        this.bankBalance += this.unitPrice;\n        Game.Models.Player.current.financialRecord.currentReport.sales += this.unitPrice;\n    }\n\n    /**\n     * Produces a unit\n     */\n    produceUnit() {\n        if(this.bankBalance < this.unitProductionCost) {\n            return alert('You do not have enough money to produce more ' + Game.Services.ConfigService.get('productName'));\n        }\n\n        this.inventory++;\n\n        this.bankBalance -= this.unitProductionCost;\n        Game.Models.Player.current.financialRecord.currentReport.productionCost += this.unitProductionCost;\n    }\n\n    /**\n     * Purchases a machine\n     */\n    purchaseMachine() {\n        if(this.bankBalance < Game.MACHINE_PRICE) {\n            return alert('You do not have enough money to purchase more machines');\n        }\n\n        this.machines++;\n\n        this.bankBalance -= Game.MACHINE_PRICE;\n        Game.Models.Player.current.financialRecord.currentReport.productionCost += MACHINE_PRICE;\n    }\n}\n\nmodule.exports = Company;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Company.js","'use strict';\n\n/**\n * A monthly report\n */\nclass Report extends Game.Models.Entity {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.sales = parseInt(this.sales);\n        this.productionCost = parseInt(this.productionCost);\n    }\n\n    /**\n     * Structure\n     */\n    structure() {\n        this.sales = 0;\n        this.productionCost = 0;\n    }\n\n    /**\n     * Appends another report to this one\n     *\n     * @param {Report} report\n     */\n    append(report) {\n        this.sales += report.sales;\n        this.productionCost += report.productionCost;\n    }\n}\n\nmodule.exports = Report;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/Report.js","'use strict';\n\n/**\n * The record for keeping track of VAT payments\n */\nclass VATRecord extends Game.Models.Entity {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n    }\n\n    /**\n     * Structure\n     */\n    structure() {\n        this.payments = {};\n    }\n\n    /**\n     * Generates all payments\n     */\n    generatePayments() {\n        let startTime = Game.Services.TimeService.startTime;\n        let firstYear = startTime.getFullYear();\n        let firstQuarter = Game.Services.TimeService.getQuarterFromMonth(startTime.getMonth() + 1);\n        let targetYear = Game.Services.TimeService.currentYear;\n        let targetQuarter = Game.Services.TimeService.currentQuarter - 1;\n\n        for(let year = firstYear; year <= targetYear; year++) {\n            if(!this.payments[year]) {\n                this.payments[year] = {};\n            }\n\n            let thisFirstQuarter = 1;\n\n            if(year === firstYear) {\n                thisFirstQuarter = firstQuarter;\n            }\n\n            let thisTargetQuarter = 4;\n\n            if(year === targetYear) {\n                thisTargetQuarter = targetQuarter;\n            }\n\n            for(let quarter = thisFirstQuarter; quarter <= thisTargetQuarter; quarter++) {\n                if((this.payments[year][quarter] || {}) instanceof Game.Models.VATPayment === false) {\n                    this.payments[year][quarter] = new Game.Models.VATPayment(this.payments[year][quarter]);\n                }\n            }\n        }\n\n        return this.payments; \n    }\n}\n\nmodule.exports = VATRecord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/VATRecord.js","'use strict';\n\n/**\n * A class for keeping track of VAT payments\n */\nclass VATPayment extends Game.Models.Entity {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        if(this.dueAt) {\n            this.dueAt = new Date(this.dueAt);\n        } else {\n            this.dueAt = Game.Services.TimeService.currentTime;\n            this.dueAt.setMonth(this.dueAt.getMonth() + 3);\n        }\n    }\n    \n    /**\n     * Structure\n     */\n    structure() {\n        this.isPaid = false;\n        this.isReported = false;\n        this.dueAt = null;\n        this.fine = 0;\n        this.amount = 0;\n    }\n\n    /**\n     * Update fine\n     */\n    updateFine() {\n        if(this.isPaid || !this.dueAt) { return; }\n\n        let diffDays = Math.ceil((Game.Services.TimeService.currentTime.getTime() - this.dueAt.getTime()) / (1000 * 3600 * 24)); \n\n        // 100 kr. per day fine\n        this.fine = Math.floor(diffDays * 100); \n    }\n}\n\nmodule.exports = VATPayment;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/VATPayment.js","'use strict';\n\n/**\n * A class for keeping track of reports\n */\nclass FinancialRecord extends Game.Models.Entity {\n    /**\n     * Structure\n     */\n    structure() {\n        this.reports = {};\n    }\n\n    /**\n     * Generate reports\n     */\n    generateReports() {\n        let firstYear = Game.Services.TimeService.startTime.getFullYear();\n        let firstMonth = Game.Services.TimeService.startTime.getMonth() + 1;\n        let targetYear = Game.Services.TimeService.currentYear;\n        let targetMonth = Game.Services.TimeService.currentMonth;\n\n        for(let year = firstYear; year <= targetYear; year++) {\n            if(!this.reports[year]) {\n                this.reports[year] = {};\n            }\n\n            let thisFirstMonth = 1;\n            let thisTargetMonth = 12;\n\n            if(year === firstYear) {\n                thisFirstMonth = firstMonth;\n            }\n\n            if(year === targetYear) {\n                thisTargetMonth = targetMonth;\n            }\n\n            for(let month = thisFirstMonth; month <= thisTargetMonth; month++) {\n                if(!this.reports[year][month]) {\n                    this.reports[year][month] = new Game.Models.Report();\n                }\n            }\n        }\n\n        return this.reports; \n    }\n\n    /**\n     * Gets quarterly report\n     *\n     * @param {Number} year\n     * @param {Number} quarter\n     *\n     * @returns {Object} Quarterly report\n     */\n    getQuarterlyReport(year, quarter) {\n        this.generateReports();\n\n        let firstMonth = quarter * 3 - 2;\n        let targetMonth = firstMonth + 3;\n        \n        let report = new Game.Models.Report();\n\n        for(let month = firstMonth; month < targetMonth; month++) {\n            report.append(this.reports[year][month]);\n        }\n\n        return report; \n    }\n\n    /**\n     * Gets the current report\n     */\n    get currentReport() {\n        this.generateReports();\n\n        return this.reports[Game.Services.TimeService.currentYear][Game.Services.TimeService.currentMonth];\n    }\n\n}\n\nmodule.exports = FinancialRecord;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Models/FinancialRecord.js","'use strict';\n\n/**\n * The persistent player info widget\n */\nclass PlayerInfo extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = Game.Models.Player.current;\n        \n        this.notifications = {\n            'company': {},\n            'personal-account': {}\n        }\n            \n        this.fetch();\n\n        setInterval(() => {\n            if(Game.isPaused) { return; }\n            \n            this._render();\n        }, 1000);\n    }\n\n    /**\n     * Gets the time string\n     */\n    getTimeString() {\n        let time = Game.Services.TimeService.currentTime;\n        let timeString = time.getFullYear() + '-';\n\n        if(time.getMonth() + 1 < 10) {\n            timeString += '0';\n        }\n\n        timeString += (time.getMonth() + 1) + '-';\n        \n        if(time.getDate() < 10) {\n            timeString += '0';\n        }\n\n        timeString += time.getDate();\n\n        return timeString;\n    }\n\n    /**\n     * Updates this view\n     */\n    static update() {\n        let playerInfo = Crisp.View.get(PlayerInfo);\n\n        if(!playerInfo) { return; }\n\n        playerInfo.fetch();\n    }\n\n    /**\n     * Gets whether or not this view is expanded\n     */\n    get isExpanded() {\n        let toggle = this.element.querySelector('.widget--player-info__toggle');\n\n        if(!toggle) { return false; }\n\n        return toggle.checked;\n    }\n\n    /**\n     * Sets a notification\n     *\n     * @param {String} area\n     * @param {String} title\n     * @param {String} description\n     * @param {String} buttonLabel\n     * @param {Function} onClick\n     */\n    static notify(area, title, description, buttonLabel, onClick) {\n        let playerInfo = Crisp.View.get(PlayerInfo);\n\n        if(!playerInfo) { return; }\n        \n        let key = btoa(title + description);\n\n        playerInfo.notifications[area][key] = {\n            title: title, \n            description: description,\n            buttonLabel: buttonLabel,\n            onClick: onClick\n        };\n    \n        playerInfo._render();\n    }\n\n    /**\n     * Clears a notification\n     *\n     * @param {String} area\n     * @param {String} key\n     */\n    static clearNotification(area, key) {\n        let playerInfo = Crisp.View.get(PlayerInfo);\n\n        if(!playerInfo) { return; }\n        \n        delete playerInfo.notifications[area][key];\n\n        playerInfo._render();\n    }\n\n    /**\n     * Gets a notification string\n     *\n     * @param {String} area\n     *\n     * @returns {String} Notifications\n     */\n    getNotificationsString(area) {\n        if(Object.keys(this.notifications[area]).length < 1) { return ''; }\n\n        let strings = [];\n\n        for(let key in  this.notifications[area]) {\n            let notification = this.notifications[area][key];\n                \n            strings.push(notification.title + '\\n' + notification.description);\n        }\n\n        return strings.join('\\n\\n');\n    }\n    \n    /**\n     * Renders notifications\n     *\n     * @param {String} area\n     *\n     * @returns {HTMLElement} Notifications\n     */\n    renderNotifications(area) {\n        return _.ul({class: 'widget--player-info__area__notifications'},\n            _.each(this.notifications[area], (key, notification) => {\n                return _.li(\n                    _.h4(notification.title),\n                    _.if(notification.description,\n                        notification.description\n                    ),\n                    _.if(notification.onClick,\n                        _.button({class: 'widget widget--button'}, notification.buttonLabel)\n                            .click(() => { notification.onClick(key); })\n                    )\n                );\n            })    \n        );\n    }\n\n    /**\n     * Checks if an area has any notifications\n     *\n     * @param {String} area\n     *\n     * @param {Boolean} Has notifications\n     */\n    hasNotifications(area) {\n        return Object.keys(this.notifications[area]).length > 0;\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'widget widget--player-info'},\n            _.input({type: 'checkbox', class: 'widget widget--player-info__toggle', checked: this.isExpanded}),\n            _.div({class: 'widget--player-info__area company'},\n                _.h4({class: 'widget--player-info__area__heading'}, 'Company'),\n                _.div({class: 'widget--player-info__area__icon' + (this.hasNotifications('company') ? ' notification' : '')}, ''),\n                _.div({class: 'widget--player-info__area__preview'}, this.model.company.name + ': ' + this.model.company.bankBalance + ' kr.'),\n                _.div({class: 'widget--player-info__area__data'},\n                    'Name: ' + this.model.company.name,\n                    '<br>',\n                    'Bank balance: ' + this.model.company.bankBalance + ' kr.',\n                    this.renderNotifications('company')\n                )\n            ),\n            _.div({class: 'widget--player-info__area personal-account'},\n                _.h4({class: 'widget--player-info__area__heading'}, 'Personal account'),\n                _.div({class: 'widget--player-info__area__icon' + (this.hasNotifications('personal-account') ? ' notification' : '')}, ''),\n                _.div({class: 'widget--player-info__area__preview'}, this.model.personalAccount + ' kr.'),\n                _.div({class: 'widget--player-info__area__data'},\n                    'Balance: ' + this.model.personalAccount + ' kr.',\n                    this.renderNotifications('personal-account')\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = PlayerInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Widgets/PlayerInfo.js","'use strict';\n\nclass DebugMenu extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.fetch();\n    }\n\n    /**\n     * Renders a button\n     *\n     * @param {String} label\n     * @param {Function} onClick\n     */\n    renderButton(label, onClick) {\n        return _.button({class: 'widget widget--button widget--debug-menu__button'}, label)\n            .click(() => { onClick(); });\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'widget widget--debug-menu'},\n            _.input({type: 'checkbox', class: 'widget--debug-menu__toggle'}),\n            this.renderButton('Reset', Game.Services.DebugService.reset),\n            this.renderButton('Pause', Game.Services.DebugService.pause),\n            this.renderButton('Play', Game.Services.DebugService.play),\n            this.renderButton('Skip 30 days', () => { Game.Services.TimeService.addDays(30); })\n        );\n    }\n}\n\nmodule.exports = DebugMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Widgets/DebugMenu.js","'use strict';\n\n/**\n * A progress bar\n */\nclass ProgressBar extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.max = this.max || 100;\n        this.value = this.value || 0;\n        this.message = '';\n\n        this.fetch();\n\n        for(let progressBar of Crisp.View.getAll(ProgressBar)) {\n            if(progressBar !== this) {\n                progressBar.remove();\n            }\n        }\n\n        _.append(document.body, this.element);\n    }\n\n    /**\n     * Sets the progress\n     *\n     * @param {Number} value\n     * @param {Number} max\n     * @param {String} message\n     */\n    setProgress(value, max, message) {\n        this.value = value;\n        this.max = max;\n        this.message = message;\n\n        this.update();\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'widget widget--progress-bar'},\n            _.progress({dynamicAttributes: true, class: 'widget--progress-bar__progress', value: this.value, max: this.max}),\n            _.div({dynamicContent: true, class: 'widget--progress-bar__message'}, this.message)\n        );\n    }\n}\n\nmodule.exports = ProgressBar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Widgets/ProgressBar.js","'use strict';\n\n/**\n * A modal\n */\nclass Modal extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.fetch();\n\n        for(let modal of Crisp.View.getAll(Modal)) {\n            if(modal === this) { continue; }\n            \n            modal.remove();\n        }\n\n        _.append(document.body, this);\n\n        wait(0.1)\n        .then(() => {\n            this.element.classList.toggle('in');\n        });\n    }\n\n    /**\n     * Renders the header\n     */\n    renderHeader() {}\n\n    /**\n     * Renders the body\n     */\n    renderBody() {}\n\n    /**\n     * Renders the footer\n     */\n    renderFooter() {}\n\n    /**\n     * Closes this modal\n     */\n    close() {\n        this.trigger('close');\n\n        this.element.classList.remove('in');\n\n        wait(0.5)\n        .then(() => {\n            this.remove(); \n            \n            this.trigger('closed');\n        });\n    }\n\n    /**\n     * Gets the class name\n     */\n    get className() {\n        return this.name.replace(/([A-Z])/g, '-$1').toLowerCase().substring(1);\n    }\n\n    /**\n     * Check is is open\n     *\n     * @returns {Boolean} Is open\n     */\n    get isOpen() {\n        return this.element.classList.contains('in');\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'modal ' + (this.isOpen ? 'in' : '') + ' modal--' + this.className + ' ' + (this.size || 'large')},\n            _.div({class: 'modal__dialog'},\n                _.if(this.canCancel !== false,\n                    _.button({class: 'modal__close widget widget--button'})\n                        .click(() => {\n                            this.trigger('cancel');\n                            \n                            this.close();\n                        })\n                ),\n                _.div({class: 'modal__header'},\n                    this.renderHeader()\n                ),\n                _.div({class: 'modal__body'},\n                    this.renderBody(),\n                ),\n                _.div({class: 'modal__footer'},\n                    this.renderFooter()  \n                )\n            )\n        );\n    }\n}\n\nmodule.exports = Modal;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Modals/Modal.js","'use strict';\n\n/**\n * A message modal\n */\nclass Message extends Game.Views.Modals.Modal {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n    }\n\n    /**\n     * Pre render\n     */\n    prerender() {\n        this.size = this.size || 'small';\n    }\n\n    /**\n     * Renders the header\n     */\n    renderHeader() {\n        return _.div({class: 'modal--message__title'}, this.title);\n    }\n    \n    /**\n     * Renders the body\n     */\n    renderBody() {\n        return _.div({class: 'modal--message__message'}, this.message);\n    }\n\n    /**\n     * Post render\n     */\n    postrender() {\n        this.applyFocus();\n    }\n\n    /**\n     * Gets the focus element\n     *\n     * @returns {HTMLElement} Element\n     */\n    get focusElement() {\n        if(!this.focus || !this.focus.element) { return null; }\n\n        return document.querySelector(this.focus.element);\n    }\n\n    /**\n     * Toggles focused element's elevation\n     *\n     * @param {Boolean} isElevated\n     * @param {HTMLElement} element\n     */\n    elevateFocusElement(isElevated, element) {\n        if(!element) { element = this.focusElement; }\n        if(!element) { return; }\n        if(!isElevated) { return element.removeAttribute('style'); }\n\n        element.style.position = 'relative';\n        element.style.zIndex = 99999;\n    }\n\n    /**\n     * Focuses this modal, if a focus has been set\n     */\n    applyFocus() {\n        if(!this.focus) { return; }\n\n        let focus = document.querySelector(this.focus.element);\n\n        if(!focus) { return; }\n\n        focus = focus.getBoundingClientRect();\n\n        let dialog = this.element.querySelector('.modal__dialog');\n\n        if(!this.focus.side) { this.focus.side = 'right'; }\n        if(!this.focus.align) { this.focus.align = 'top'; }\n\n        dialog.classList.add('focused');\n        dialog.classList.add(this.focus.side);\n        dialog.classList.add('align-' + this.focus.align);\n\n        switch(this.focus.side) {\n            case 'right':\n                dialog.style.top = (focus.top + focus.height / 2) + 'px';\n                dialog.style.left = (focus.left + focus.width) + 'px';\n                break;\n            \n            case 'left':\n                dialog.style.top = (focus.top + focus.height / 2) + 'px';\n                dialog.style.right = (window.innerWidth - focus.right + focus.width) + 'px';\n                break;\n            \n            case 'top':\n                dialog.style.bottom = (window.innerHeight - focus.top) + 'px';\n                dialog.style.left = (focus.left + focus.width / 2 ) + 'px';\n                break;\n            \n            case 'bottom':\n                dialog.style.top = focus.bottom + 'px';\n                dialog.style.left = (focus.left + focus.width / 2) + 'px';\n                break;\n        }\n    }\n        \n    /**\n     * Renders the footer\n     */\n    renderFooter() {\n        if(this.canSubmit === false) { return; }\n\n        return _.button({class: 'widget widget--button blue align-right'}, 'OK')\n            .click(() => {\n                this.trigger('ok');\n\n                this.close();\n            })\n    }\n}\n\nmodule.exports = Message;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Modals/Message.js","'use strict';\n\n/**\n * A modal for transffering funds\n */\nclass Transfer extends Game.Views.Modals.Modal {\n    /**\n     * Pre render\n     */\n    prerender() {\n        this.size = this.size || 'small';\n        this.amount = 0;\n        this.canCancel = false;\n    }   \n\n    /**\n     * Render header\n     */\n    renderHeader() {\n        return 'Transfer funds';\n    }\n\n    /**\n     * Sets the max amount\n     *\n     * @param {Number} max\n     */\n    set max(max) {\n        this.element.querySelector('input').max = max;\n        this.element.querySelector('input').value = max;\n        this.amount = max;\n\n        this.update();\n    }\n\n    /**\n     * Render body\n     */\n    renderBody() {\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n        return _.div({class: 'widget-group'},\n            _.div({class: 'widget widget--label'}, 'Transfer'),\n            _.input({class: 'widget widget--input', value: 0, type: 'number', min: 0, max: companyAccount})\n                .on('input', (e) => { this.onChangeAmount(e.currentTarget.value); }),\n            _.div({class: 'widget widget--label'}, 'DKK')\n        );\n    }\n\n    /**\n     * Event: Change amount\n     *\n     * @param {Number} amount\n     */\n    onChangeAmount(amount) {\n        this.amount = parseFloat(amount);\n\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n        if(this.amount < 0) { this.amount = 0; }\n        if(this.amount > companyAccount) { this.amount = companyAccount; }\n\n        this.update();\n    }\n\n    /**\n     * Event: Click transfer\n     */\n    onClickTransfer() {\n        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n        let personalAccount = Game.Services.ConfigService.get('personalAccount', 0);\n\n        if(companyAccount < this.amount) { return; }\n\n        Game.Services.ConfigService.set('companyAccount', companyAccount - this.amount);\n        Game.Services.ConfigService.set('personalAccount', personalAccount + this.amount);\n\n        this.trigger('submit');\n\n        this.close();\n    }\n\n    /**\n     * Render footer\n     */\n    renderFooter() {\n        return _.button({dynamicContent: true, class: 'widget widget--button blue align-right'}, 'Transfer ' + this.amount + ' DKK')\n            .click(() => { this.onClickTransfer(); });\n    }\n}\n\nmodule.exports = Transfer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Modals/Transfer.js","'use strict';\n\n/**\n * The VAT reporting tool\n */\nclass VATReportingTool extends Game.Views.Modals.Modal {\n    /**\n     * Gets the class name\n     */\n    get className() {\n        return 'modal--vat-reporting-tool';\n    }\n\n    /**\n     * Renders the header\n     */\n    renderHeader() {\n        return [\n            _.h1('Report VAT for ' + this.year + ' Q' + this.quarter),\n            _.p('VAT is a 25% consumption tax added onto the price of goods and services')\n        ];\n    }\n\n    /**\n     * Renders the footer\n     */\n    renderFooter() {\n        return _.button({class: 'widget widget--button blue align-right'}, 'Submit')\n            .click(() => {\n                if(this.step < 5) { return; }  \n\n                this.close();\n\n                Game.Services.SessionService.setVat(this.year, this.quarter, true);\n\n                this.trigger('submit');\n            });\n    }\n\n    /**\n     * Sets the step\n     *\n     * @param {Number} step\n     */\n    setStep(step) {\n        this.step = step;\n\n        this.fetch();\n    }\n\n    /**\n     * Gets the sales number\n     */\n    get sales() {\n        let sales = Game.Services.SessionService.getSalesQuarter(this.year, this.quarter);\n\n        if(this.step > 2) {\n            return sales / 1.25 * 0.25;\n        } else if(this.step > 1) {\n            return sales / 1.25;\n        }\n\n        return 0;\n    }\n    \n    /**\n     * Gets the cost number\n     */\n    get cost() {\n        let cost = Game.Services.SessionService.getCostQuarter(this.year, this.quarter);\n\n        if(this.step > 4) {\n            return cost / 1.25 * 0.25;\n        } else if(this.step > 3) {\n            return cost / 1.25;\n        }\n\n        return 0;\n    }\n\n    /**\n     * Renders the body\n     */\n    renderBody() {\n        if(!this.step) { this.step = 1; }\n\n        return _.div({class: this.className + '__calculation'},\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Sales'),\n                _.div({class: 'widget widget--label'}, Game.Services.SessionService.getSalesQuarter(this.year, this.quarter) + ' DKK'),\n                _.if(this.step === 1,\n                    _.button({class: 'widget widget--button blue'},\n                        '/ 1.25',\n                        _.div({class: 'widget__tooltip'}, 'Get the sales without VAT')\n                    ).click(() => { this.setStep(2); })\n                ),\n                _.if(this.step !== 1,\n                    _.div({class: 'widget widget--label text-center disabled'}, '/ 1.25')\n                ),\n                _.if(this.step === 2,\n                    _.button({class: 'widget widget--button blue'},\n                        '* 0.25',\n                        _.div({class: 'widget__tooltip'}, 'Get the sales VAT amount')\n                    ).click(() => { this.setStep(3); })\n                ),\n                _.if(this.step !== 2,\n                    _.div({class: 'widget widget--label text-center'}, '* 0.25')\n                ),\n                _.div({class: 'widget widget--label ' + this.className + '__result'}, this.sales + ' DKK')\n            ),\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Cost'),\n                _.div({class: 'widget widget--label'}, Game.Services.SessionService.getCostQuarter(this.year, this.quarter) + ' DKK'),\n                _.if(this.step === 3,\n                    _.button({class: 'widget widget--button blue'},\n                        '/ 1.25',\n                        _.div({class: 'widget__tooltip'}, 'Get the cost without VAT')\n                    ).click(() => { this.setStep(4); })\n                ),\n                _.if(this.step !== 3,\n                    _.div({class: 'widget widget--label text-center'}, '/ 1.25')\n                ),\n                _.if(this.step === 4,\n                    _.button({class: 'widget widget--button blue'},\n                        '* 0.25',\n                        _.div({class: 'widget__tooltip'}, 'Get the cost VAT amount')\n                    ).click(() => { this.setStep(5); })\n                ),\n                _.if(this.step !== 4,\n                    _.div({class: 'widget widget--label text-center disabled'}, '* 0.25')\n                ),\n                _.div({class: 'widget widget--label ' + this.className + '__result'}, this.cost + ' DKK')\n            ),\n            _.if(this.step > 4,\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Total'),\n                    _.div({class: 'widget widget--label'}, 'sales VAT - cost VAT'),\n                    _.div({class: 'widget widget--label'}, '(' + this.sales + ' DKK - ' + this.cost + ' DKK)'),\n                    _.div({class: 'widget widget--label'}),\n                    _.div({class: 'widget widget--label ' + this.className + '__result'}, (Math.round((this.sales - this.cost) * 100) / 100) + ' DKK')\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = VATReportingTool;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Modals/VATReportingTool.js","'use strict';\n\n/**\n * The financial reporting tool\n */\nclass FinancialReportingTool extends Game.Views.Modals.Modal {\n    /**\n     * Gets the class name\n     */\n    get className() {\n        return 'modal--financial-reporting-tool';\n    }\n\n    /**\n     * Renders the header\n     */\n    renderHeader() {\n        return [\n            _.h1({class: 'widget text-center'}, this.year + ' over'),\n            _.if(this.step === 1,\n                _.p({class: 'widget text-center'}, 'Report your financial performance to the tax bureau to evaluate the actual tax incurred in the previous year'),\n            )\n        ];\n    }\n\n    /**\n     * Renders the footer\n     */\n    renderFooter() {\n        return _.button({class: 'widget widget--button blue align-right'}, this.step < 2 ? 'Next' : 'Settle')\n            .click(() => {\n                if(this.step < 2) { return this.setStep(this.step + 1); }  \n\n                this.close();\n\n                let account = Game.Services.ConfigService.get('companyAccount');\n\n                Game.Services.ConfigService.set('companyAccount', account + this.btaxDifference);\n\n                Crisp.View.get('Stats').update(); \n\n                let message = new Game.Views.Modals.Message({\n                    title: 'Financial report complete',\n                    message: 'Based on your profit in this year, try to estimate your profit for next year'\n                });\n                \n                message.on('ok', () => {\n                    Game.Services.TimeService.goToNextYear();\n\n                    Crisp.Router.go('/b-tax-estimation');\n                });\n            });\n    }\n\n    /**\n     * Sets the step\n     *\n     * @param {Number} step\n     */\n    setStep(step) {\n        this.step = step;\n\n        this.fetch();\n    }\n\n    /**\n     * Gets the sales number\n     */\n    get sales() {\n        return Game.Services.SessionService.getSales(this.year);\n    }\n    \n    /**\n     * Gets the cost number\n     */\n    get cost() {\n        return Game.Services.SessionService.getCost(this.year);\n    }\n\n    /**\n     * Gets the estimated income\n     *\n     * @returns {Number} Estimated income\n     */\n    get estimatedIncome() {\n        return Game.Services.ConfigService.get('estimatedIncome');\n    }\n\n    /**\n     * Gets the B tax paid\n     *\n     * @returns {Number} B tax paid\n     */\n    get btaxPaid() {\n        return Game.Services.ConfigService.get('btaxAmount');\n    }\n    \n    /**\n     * Gets the B tax payable\n     *\n     * @returns {Number} B tax payable\n     */\n    get btaxPayable() {\n        return Math.round((this.sales - this.cost) * 0.38 * 100) / 100;\n    }\n\n    /**\n     * Gets the B tax difference\n     *\n     * @returns {Number} B tax difference\n     */\n    get btaxDifference() {\n        return Math.round((this.btaxPaid - this.btaxPayable) * 100) / 100;\n    }\n\n    /**\n     * Pre render\n     */\n    prerender() {\n        if(!this.step) { this.step = 1; }\n\n        this.size = 'medium';\n    }\n\n    /**\n     * Renders the body\n     */\n    renderBody() {\n        return _.div({class: this.className + '__calculation'},\n            _.if(this.step === 1,\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Sales'),\n                    _.div({class: 'widget widget--label text-right'}, this.sales + ' DKK')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Cost'),\n                    _.div({class: 'widget widget--label text-right'}, '(' + this.cost + ' DKK)')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Profit'),\n                    _.div({class: 'widget widget--label text-right result'}, this.sales - this.cost + ' DKK')\n                )\n            ),\n            _.if(this.step === 2,\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Estimated profit'),\n                    _.div({class: 'widget widget--label text-right'}, this.estimatedIncome + ' DKK')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'B tax paid'),\n                    _.div({class: 'widget widget--label text-right'}, this.btaxPaid + ' DKK')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Actual profit'),\n                    _.div({class: 'widget widget--label text-right'}, this.sales - this.cost + ' DKK')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Actual B tax'),\n                    _.div({class: 'widget widget--label text-right'}, this.btaxPayable + ' DKK')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'},\n                        _.if(this.btaxDifference <= 0, 'B tax payable'),\n                        _.if(this.btaxDifference > 0, 'B tax refund')\n                    ),\n                    _.div({class: 'widget widget--label text-right result'}, Math.abs(this.btaxDifference) + ' DKK')\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = FinancialReportingTool;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Modals/FinancialReportingTool.js","'use strict';\n\n/**\n * A drawer for information that should be tucked away\n */\nclass Drawer extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = this.model || {};\n\n        this.fetch();\n    }\n   \n    /**\n     * Gets the class name\n     *\n     * @returns {String} Class name\n     */\n    get className() {\n        return 'drawer-' + this.name.replace('Drawer', '').replace(/([A-Z])/g, '-$1').trim().toLowerCase();\n    }\n\n    /**\n     * Renders this content\n     *\n     * @returns {HTMLElement} Element\n     */\n    renderContent() {}\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'drawer ' + this.className},\n            this.renderContent()\n        );\n    }\n}\n\nmodule.exports = Drawer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Drawers/Drawer.js","'use strict'\n\n/**\n * The pervasive timeline\n */\nclass Timeline extends Game.Views.Drawers.Drawer {\n    /**\n     * Gets the notification for a date\n     *\n     * @param {Date} date\n     *\n     * @returns {Object} Notification\n     */\n    getNotification(date) {\n        // Able to pay VAT\n        if(\n            date.getDate() === 24 && // The 24th day of...\n            (\n                date.getMonth() === 1 || // ...february or...\n                date.getMonth() === 4 || // ...may or...\n                date.getMonth() === 7 || // ...august or...\n                date.getMonth() === 10   // ...november\n            )\n        ) {\n            let expiresOn = new Date(date).addMonths(1);\n            expiresOn.setDate(1); \n\n            let year = date.getFullYear();\n            let quarter = date.getQuarter() - 1;\n\n            if(quarter < 1) {\n                quarter = 4;\n                year--;\n            }\n\n            // Exclude first occurence\n            if(year < Game.Services.TimeService.startTime.getFullYear()) { return; }\n\n            if(Game.Services.SessionService.getVat(year, quarter).isPaid) { return; }\n\n            return {\n                type: 'yellow',\n                title: 'Pay VAT',\n                message: 'VAT payment can be made, and is due on ' + expiresOn.prettyPrint(),\n                expiresOn: expiresOn,\n                action: {\n                    label: 'Pay VAT (' + Game.Services.SessionService.getVat(year, quarter).amount + ' DKK)',\n                    onClick: 'onClickPayVAT'\n                }\n            };\n        }\n\n        // Report VAT\n        if(\n            date.getDate() === 4 && // The first day of...\n            (\n                date.getMonth() === 0 || // ...january or...\n                date.getMonth() === 3 || // ...april or...\n                date.getMonth() === 6 || // ...july or...\n                date.getMonth() === 9    // ...october\n            )\n        ) {\n            let year = date.getFullYear();\n            let quarter = date.getQuarter() - 1;\n\n            if(quarter < 1) {\n                quarter = 4;\n                year--;\n            }\n            \n            // Exclude first occurence\n            if(year < Game.Services.TimeService.startTime.getFullYear()) { return; }\n\n            if(Game.Services.SessionService.getVat(year, quarter).isReported) { return; }\n            \n            let expiresOn = new Date(date).addMonths(1); \n            expiresOn.setDate(24);\n\n            return {\n                type: 'yellow',\n                title: 'Report VAT',\n                message: 'VAT can be reported, and payment can be made starting ' + expiresOn.prettyPrint(),\n                expiresOn: expiresOn,\n                action: {\n                    label: 'Report VAT',\n                    onClick: 'onClickReportVAT'\n                }\n            };\n        }\n\n        // Able to do yearly financial report\n        if(date.getMonth() === 11 && date.getDate() === 31) {\n            return {\n                type: 'purple',\n                title: 'Financial report',\n                action: 'onReachFinancialReport'\n            };\n        }\n\n        // Able to pay B tax\n        if(date.getDate() === 3) {\n            let btax = Game.Services.SessionService.getBTax(date.getFullYear(), date.getMonth() + 1);\n\n            if(btax.isPaid) { return; }\n\n            let expiresOn = new Date(date);\n            expiresOn.setDate(22);\n            \n            return {\n                type: 'blue',\n                title: 'Pay B tax',\n                message: 'B tax payment can be made, and is due on ' + expiresOn.prettyPrint(),\n                expiresOn: expiresOn,\n                action: {\n                    label: 'Pay B tax (' + btax.amount + ' DKK)',\n                    onClick: 'onClickPayBTax'\n                }\n            };\n        }\n    }\n\n    /**\n     * Event: Click notification\n     *\n     * @param {Object} notification\n     */\n    onClickNotification(notification) {\n        alert(notification.message);\n    }\n\n    /**\n     * Heartbeat\n     */\n    heartbeat() {\n        this.update();\n    }\n\n    /**\n     * Renders the toggle\n     */\n    renderToggle() {\n        return null;\n    }\n\n    /**\n     * Event: Click pause\n     */\n    onClickPause() {\n        Game.Services.TimeService.isPaused = true;\n\n        this.update();\n    }\n    \n    /**\n     * Event: Click pause\n     */\n    onClickPlay() {\n        Game.Services.TimeService.isPaused = false;\n\n        Game.Services.TimeService.speed = 1;\n        \n        this.update();\n    }\n\n    /**\n     * Event: Click fast forward\n     *\n     * @param {Number} factor\n     */\n    onClickFastForward(factor) {\n        Game.Services.TimeService.isPaused = false;\n\n        Game.Services.TimeService.speed = factor;\n\n        this.update();\n    }\n\n    /**\n     * Gets the state of the timeline\n     *\n     * @returns {String} State\n     */\n    get state() {\n        if(Game.Services.TimeService.isPaused) {\n            return 'paused';\n        }\n\n        if(Game.Services.TimeService.speed === 2) {\n            return 'ffwdx2';\n        }\n        \n        if(Game.Services.TimeService.speed === 4) {\n            return 'ffwdx4';\n        }\n            \n        return 'playing';\n    }\n\n    /**\n     * Renders the content\n     */\n    renderContent() {\n        let date = Game.Services.TimeService.currentTime;\n\n        return _.div({class: 'drawer__preview'},\n            _.div({dynamicContent: true, class: 'drawer--timeline__controls'},\n                _.div({class: 'widget-group'},\n                    _.button({class: 'widget widget--button blue small' + (this.state === 'paused' ? ' active' : ''), title: 'Pause'}, '')\n                        .click(() => { this.onClickPause(); }),\n                    _.button({class: 'widget widget--button blue small' + (this.state === 'playing' ? ' active' : ''), title: 'Play'}, '')\n                        .click(() => { this.onClickPlay(); }),\n                    _.button({class: 'widget widget--button blue small' + (this.state === 'ffwdx2' ? ' active' : ''), title: 'FFWDx2'}, '')\n                        .click(() => { this.onClickFastForward(2); }),\n                    _.button({class: 'widget widget--button blue small' + (this.state === 'ffwdx4' ? ' active' : ''), title: 'FFWDx4'}, '')\n                        .click(() => { this.onClickFastForward(4); })\n                )\n            ),\n            _.div({class: 'drawer--timeline__indicator'}, 'Present day'),\n            _.div({dynamicContent: true, class: 'drawer--timeline__scroller'},\n                _.div({class: 'drawer--timeline__scroller__year'},\n                    date.getFullYear()\n                ),\n                _.div({class: 'drawer--timeline__scroller__month'},\n                    date.getMonthName()\n                ),\n                _.div({class: 'drawer--timeline__scroller__days'},\n                    _.loop(60, (day) => {\n                        let currentDate = new Date(date);\n\n                        currentDate.addDays(day);\n                        currentDate.reset();\n\n                        let notification = this.getNotification(currentDate);\n                       \n                        if(notification && day === 0 && !notification.isSilent) {\n                            Game.Views.Drawers.Notifications.set(notification);\n                        }\n\n                        return _.div({class: 'drawer--timeline__scroller__day ' + (currentDate.getDate() % 2 === 0 ? 'even' : 'odd')},\n                            _.if(currentDate.getDate() === 1 && day > 0,\n                                _.div({class: 'drawer--timeline__scroller__day__month'}, currentDate.getMonthName())\n                            ),\n                            _.div({class: 'drawer--timeline__scroller__day__number', 'data-number': currentDate.getDate()},\n                                currentDate.getDate(),\n                            ),\n                            _.do(() => { \n                                if(!notification) { return; }\n\n                                return _.div({class: 'drawer--timeline__scroller__day__notification ' + (notification.type || '')}, notification.title);\n                            })\n                        );\n                    })\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = Timeline;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Drawers/Timeline.js","'use strict';\n\n/**\n * A visual representation of quests\n */\nclass QuestLog extends Game.Views.Drawers.Drawer {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n        \n        this.setQuest(\n            'Machines',\n            'Reach  ' + Game.MACHINE_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to get machines that automate production!',\n            () => { return this.personalAccount >= Game.MACHINE_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n        \n        this.setQuest(\n            'Pricing',\n            'Reach  ' + Game.PRICING_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to set the price of your ' + Game.Services.ConfigService.get('productName') + '!',\n            () => { return this.personalAccount >= Game.PRICING_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n\n        this.setQuest(\n            'Demand 1',\n            'Reach  ' + Game.INCREASED_DEMAND_1_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to increase the demand for ' + Game.Services.ConfigService.get('productName') + '!',\n            () => { return this.personalAccount >= Game.INCREASED_DEMAND_1_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n        \n        this.setQuest(\n            'Efficiency',\n            'Reach  ' + Game.INCREASED_EFFICIENCY_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to produce 2 ' + Game.Services.ConfigService.get('productName') + ' per click!',\n            () => { return this.personalAccount >= Game.INCREASED_EFFICIENCY_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n        \n        this.setQuest(\n            'Productivity',\n            'Reach  ' + Game.INCREASED_PRODUCTIVITY_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to increase machine productivity!',\n            () => { return this.personalAccount >= Game.INCREASED_PRODUCTIVITY_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n        \n        this.setQuest(\n            'Demand 2',\n            'Reach  ' + Game.INCREASED_DEMAND_2_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to increase the demand for ' + Game.Services.ConfigService.get('productName') + '!',\n            () => { return this.personalAccount >= Game.INCREASED_DEMAND_2_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n        \n        this.setQuest(\n            'Cost',\n            'Reach  ' + Game.REDUCED_PRODUCTION_COST_PERSONAL_ACCOUNT_MINIMUM + ' DKK in your personal account to lower the production cost of your ' + Game.Services.ConfigService.get('productName') + '!',\n            () => { return this.personalAccount >= Game.REDUCED_PRODUCTION_COST_PERSONAL_ACCOUNT_MINIMUM; }\n        );\n\n        this.fetch();\n    }\n\n    /**\n     * Gets the current amount in the personal account\n     *\n     * @returns {Number} Amount\n     */\n    get personalAccount() {\n        return Game.Services.ConfigService.get('personalAccount', 0);\n    }\n\n    /**\n     * Defines a quest\n     *\n     * @param {String} title\n     * @param {String} message\n     * @param {Function} isComplete\n     */\n    setQuest(title, message, isComplete) {\n        if(!this.quests) { this.quests = []; }\n\n        this.quests.push({\n            title: title,\n            message: message,\n            isComplete: isComplete\n        });\n    }\n\n    /**\n     * Gets the current quest\n     * NOTE: Side effect, stores completed quests in cache\n     */\n    get currentQuest() {\n        let currentQuest;\n        let completedQuests = Game.Services.ConfigService.get('completedQuests', []);\n\n        for(let quest of this.quests || []) {\n            if(!currentQuest && !quest.isComplete()) {\n                currentQuest = quest;\n            }\n\n            if(quest.isComplete() && completedQuests.indexOf(quest.title) < 0) {\n                completedQuests.push(quest.title);\n            }\n        }\n\n        Game.Services.ConfigService.set('completedQuests', completedQuests);\n\n        return currentQuest;\n    }\n\n    /**\n     * Hearbeat\n     */\n    heartbeat() {\n        this.fetch();\n    }\n\n    /**\n     * Renders the content\n     */\n    renderContent() {\n        let quest = this.currentQuest;\n\n        if(!quest) { return; }\n\n        return _.div({class: this.className + '__quest'},\n            _.div({class: this.className + '__quest__title'}, quest.title),\n            _.div({class: this.className + '__quest__message'}, quest.message)\n        );\n    }\n}\n\nmodule.exports = QuestLog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Drawers/QuestLog.js","'use strict';\n\n/**\n * Player statistics\n */\nclass Stats extends Game.Views.Drawers.Drawer {\n    /**\n     * Heartbeat\n     */\n    heartbeat() {\n        this.update();\n    }\n\n    /**\n     * Renders the preview\n     */\n    renderContent() {\n        return _.div({class: 'drawer__preview drawer--stats__preview'},\n            _.div({class: 'drawer--stats__preview__company'},\n                _.div({dynamicContent: true, class: 'widget widget--label text-center drawer--stats__company-account'}, ' ' + Game.Services.ConfigService.get('companyAccount', 0) + ' DKK')\n            ),\n            _.div({class: 'drawer--stats__preview__transactions'},\n                _.button({class: 'widget widget--button blue align-center'}, 'Transfer ')\n                    .click(() => {\n                        let companyAccount = Game.Services.ConfigService.get('companyAccount', 0);\n\n                        if(companyAccount <= 0) {\n                            return new Game.Views.Modals.Message({\n                                title: 'Not enough cash!',\n                                message: 'You don\\'t have any money in your company account',\n                            });\n                        }\n\n                        let expired = Crisp.View.get('Notifications').getExpiredNotification();\n\n                        if(expired) {\n                            let title = expired.title;\n\n                            title = title.charAt(0).toLowerCase() + title.slice(1);\n\n                            return new Game.Views.Modals.Message({\n                                title: 'You need to ' + title,\n                                message: 'You need to ' + title + ' before you can transfer money',\n                            });\n                        }\n\n                        new Game.Views.Modals.Transfer();\n                    })\n            ),\n            _.div({class: 'drawer--stats__preview__personal'},\n                _.div({dynamicContent: true, class: 'widget widget--label text-center drawer--stats__personal-account'}, ' ' + Game.Services.ConfigService.get('personalAccount', 0) + ' DKK')\n            )\n        );\n    }\n}\n\nmodule.exports = Stats;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Drawers/Stats.js","'use strict';\n\n/**\n * Notification drawer\n */\nclass Notifications extends Game.Views.Drawers.Drawer {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = Game.Services.ConfigService.get('notifications') || {};\n\n        for(let key in this.model) {\n            let entry = this.model[key];\n\n            if(entry.createdOn) {\n                entry.createdOn = new Date(entry.createdOn);\n            }\n            \n            if(entry.expiresOn) {\n                entry.expiresOn = new Date(entry.expiresOn);\n            }\n        }\n\n        this.fetch();\n    }\n\n    /**\n     * Sets a notification\n     *\n     * @param {Object} notification\n     */\n    static set(notification) {\n        let instance = Crisp.View.get(Notifications);\n\n        if(!instance) { return; }\n\n        notification.createdOn = Game.Services.TimeService.currentTime.reset();\n\n        let key = notification.createdOn.getTime().toString();\n\n        if(instance.model[key]) { return; }\n\n        if(typeof instance[notification.action] === 'function') {\n            return instance[notification.action](notification);\n        }\n\n        instance.model[key] = notification;\n\n        instance.save();\n\n        instance.fetch();\n\n    }\n\n    /**\n     * Gets expired notification\n     *\n     * @returns {Object} Notification\n     */\n    getExpiredNotification() {\n        for(let key in this.model) {\n            if(this.model[key].isExpired) {\n                return this.model[key];\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Save changes\n     */\n    save() {\n        Game.Services.ConfigService.set('notifications', this.model);\n    }\n\n    /**\n     * Heartbeat\n     */\n    heartbeat() {\n        this.update();\n    }\n\n    /**\n     * Renders the content\n     */\n    renderContent() {\n        let currentDate = Game.Services.TimeService.currentTime;\n\n        return _.div({dynamicChildren: true, class: 'drawer__preview drawer--notifications__entries'},\n            _.each(this.model, (key, notification) => {\n                let entry = _.div({dynamicAttributes: true, class: 'drawer--notifications__entry' + (notification.isExpired ? ' expired' : '')},\n                    _.do(() => {\n                        if(!notification.expiresOn) { return; }\n\n                        let percent = ((currentDate.getTime() - notification.createdOn.getTime()) / (notification.expiresOn.getTime() - notification.createdOn.getTime())) * 100;\n\n                        if(percent >= 100) {\n                            notification.isExpired = true;\n                            percent = 100;\n                        }\n\n                        return _.div({dynamicAttributes: true, class: 'drawer--notifications__entry__progress', style: 'width: ' + percent + '%'});\n                    }),\n                    _.if(notification.title,\n                        _.div({class: 'drawer--notifications__entry__title'}, notification.title)\n                    ),\n                    _.if(notification.message,\n                        _.div({class: 'drawer--notifications__entry__message'}, notification.message)\n                    ),\n                    _.do(() => {\n                        if(!notification.action) { return; }\n\n                        return _.button({dynamicAttributes: true, class: 'drawer--notifications__entry__action widget widget--button ' + notification.type || ''}, notification.action.label)\n                            .click((e) => { \n                                if(typeof this[notification.action.onClick] !== 'function') { return; }\n\n                                this[notification.action.onClick](notification)\n                                .then((message) => {\n                                    entry.classList.toggle('out', true);\n                                    entry.dataset.crDynamicAttributes = false;\n                                   \n                                    setTimeout(() => {\n                                        delete this.model[key];\n                                        this.save();\n                                        this.fetch();\n                                    }, 500);\n\n                                    if(message) {\n                                        new Game.Views.Modals.Message({\n                                            title: 'Success',\n                                            message: message\n                                        });\n                                    }\n                                })\n                                .catch((e) => {\n                                    if(!e) { return; }\n\n                                    console.log(e);\n\n                                    new Game.Views.Modals.Message({\n                                        title: 'Error',\n                                        message: e.message || e\n                                    });\n                                });\n                            })\n                    })\n                );\n\n                return entry;\n            })\n        );\n    }\n\n    /**\n     * Event: Click pay B tax\n     *\n     * @param {Object} notification\n     */\n    onClickPayBTax(notification) {\n        return Game.Services.SessionService.payBTax(notification.createdOn);\n    }\n    \n    /**\n     * Event: Click pay VAT\n     *\n     * @param {Object} notification\n     */\n    onClickPayVAT(notification) {\n        return Game.Services.SessionService.payVat(notification.createdOn);\n    }\n   \n    /**\n     * Event: Click report VAT\n     *\n     * @param {Object} notification\n     */\n    onClickReportVAT(notification) {\n        return Game.Services.SessionService.reportVat(notification.createdOn);\n    }\n\n    /**\n     * Event: Reached financial report\n     *\n     * @param {Object} notification\n     */\n    onReachFinancialReport(notification) {\n        return Game.Services.SessionService.financialReport(Game.Services.TimeService.currentTime);\n    }\n}\n\nmodule.exports = Notifications;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Drawers/Notifications.js","'use strict';\n\n/**\n * Controls\n */\nclass Controls extends Game.Views.Drawers.Drawer {\n    /**\n     * Heartbeat\n     */\n    heartbeat() {\n        this.update();\n    }\n    \n    /**\n     * Event: Changed unit price\n     *\n     * @param {Number} price\n     */\n    onChangeUnitPrice(price) {\n        Game.Services.SessionService.setUnitPrice(price);\n\n        this.heartbeat();\n    }\n\n    /*\n     * Event: Click buy machine\n     */\n    onClickBuyMachine() {\n        Game.Services.SessionService.buyMachine();\n\n        this.heartbeat();\n    }\n    \n    /*\n     * Event: Click produce\n     */\n    onClickProduce() {\n        Game.Services.SessionService.produceUnit();\n\n        if(Game.Services.SessionService.isQuestComplete('Efficiency')) {\n            Game.Services.SessionService.produceUnit();\n        }\n\n        this.heartbeat();\n    }\n\n    /**\n     * Renders the content\n     */\n    renderContent() {\n        let year = Game.Services.TimeService.currentYear;\n        let month = Game.Services.TimeService.currentMonth;\n\n        return [\n            // Unit price\n            _.div({class: 'drawer--controls__heading'}, 'Pricing'),\n            _.div({class: 'widget-group'},\n                _.div({dynamicContent: true, class: 'widget widget--label'}, 'Unit price:'),\n                _.input({disabled: !Game.Services.SessionService.isQuestComplete('Pricing'), class: 'widget widget--input small drawer--controls__pricing__input', type: 'number', value: Game.Services.ConfigService.get('unitPrice', Game.DEFAULT_UNIT_PRICE)})\n                    .on('input', (e) => { this.onChangeUnitPrice(e.currentTarget.value); }),\n                _.div({class: 'widget widget--label small'}, _.span({class: 'vat'}))\n            ),\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Demand:'),\n                _.div({dynamicContent: true, class: 'widget widget--label text-right'}, Game.Services.SessionService.getSalesPerDay() + ' ' + Game.Services.ConfigService.get('productName') + ' sold per day')\n            ),\n\n            // Machines\n            _.if(Game.Services.SessionService.isQuestComplete('Machines'),\n                _.div({dynamicContent: true, class: 'drawer--controls__heading'}, 'Machines: ' + Game.Services.ConfigService.get('machines', 0)),\n                _.div({class: 'widget-group'},\n                    _.button({dynamicAttributes: true, class: 'widget widget--button blue drawer--controls__buy-machine'}, 'Buy machine')\n                        .click((e) => { this.onClickBuyMachine(); }),\n                    _.div({dynamicContent: true, class: 'widget widget--label text-right vat'}, Game.Services.SessionService.getCurrentMachinePrice() + ' DKK')\n                ),\n                _.div({class: 'widget-group'},\n                    _.div({class: 'widget widget--label'}, 'Productivity:'),\n                    _.div({dynamicContent: true, class: 'widget widget--label text-right'}, (Game.Services.ConfigService.get('machines', 0) * Game.Services.SessionService.getCurrentMachineProductivity()) + ' ' + Game.Services.ConfigService.get('productName') + ' per day'),\n                )\n            ),\n\n            // Inventory\n            _.div({dynamicContent: true, class: 'drawer--controls__heading'}, 'Inventory: ' + Game.Services.ConfigService.get('inventory', 0)),\n            _.div({class: 'widget-group'},\n                _.button({class: 'widget widget--button blue drawer--controls__produce'}, 'Produce')\n                    .click((e) => { this.onClickProduce(); }),\n                _.div({dynamicContent: true, class: 'widget widget--label text-right vat'}, Game.Services.SessionService.getCurrentProductionCost() + ' DKK')\n            ),\n\n            // Statistics\n            _.div({class: 'drawer--controls__heading'}, 'Statistics for ' + year),\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Estimated profit:'),\n                _.div({dynamicContent: true, class: 'widget widget--label text-right'}, Game.Services.ConfigService.get('estimatedIncome', 0) + ' DKK')\n            ),\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Sales:'),\n                _.div({dynamicContent: true, class: 'widget widget--label text-right'}, Game.Services.SessionService.getSales(year) + ' DKK')\n            ),\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Cost:'),\n                _.div({dynamicContent: true, class: 'widget widget--label text-right'}, '(' + Game.Services.SessionService.getCost(year) + ' DKK)')\n            ),\n            _.div({class: 'widget-group'},\n                _.div({class: 'widget widget--label'}, 'Actual profit:'),\n                _.div({dynamicContent: true, class: 'widget widget--label text-right drawer--controls__actual-profit'}, (Game.Services.SessionService.getSales(year) - Game.Services.SessionService.getCost(year)) + ' DKK')\n            )\n        ];\n    }\n}\n\nmodule.exports = Controls;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Drawers/Controls.js","'use strict';\n\n/**\n * A flexible pie chart\n */\nclass PieChart extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = this.model || {};\n\n        this.fetch();\n    }\n\n    /**\n     * Gets a coordinate based on percent\n     *\n     * @param {Number} percent\n     *\n     * @param {Object} Coordinate\n     */\n    getCoordinate(percent) {\n        return {\n            x: Math.cos(2 * Math.PI * percent),\n            y: Math.sin(2 * Math.PI * percent)\n        };\n    }\n\n    /**\n     * Sets translation\n     *\n     * @param {Number} x\n     * @param {Number} y\n     */\n    setTranslation(x, y) {\n        x = x || 0;\n        y = y || 0;\n\n        this.element.setAttribute('transform', 'translate(' + x + ', ' + y + ')');\n    }\n\n    /**\n     * Gets the mean of a list of numbers\n     *\n     * @param {Array} numbers\n     *\n     * @returns {Number} Mean\n     */\n    getMean(...numbers) {\n        let mean = 0;\n\n        for(let number of numbers) {\n            mean += number;\n        }\n\n        mean /= numbers.length;\n\n        return mean;\n    }\n\n    /**\n     * Interpolates between 2 values\n     *\n     * @param {Number} value1\n     * @param {Number} value2\n     * @param {Number} amount\n     */\n    static lerp(value1, value2, amount) {\n        amount = amount < 0 ? 0 : amount;\n        amount = amount > 1 ? 1 : amount;\n        \n        return value1 + (value2 - value1) * amount;\n    }\n\n    /**\n     * Sets the percentage and colour of a slice\n     *\n     * @param {String} name\n     * @param {Number} duration\n     * @param {Object} slice\n     */\n    setSlice(name, duration, slice) {\n        if(!this.model[name]) {\n            this.model[name] = {\n                percent: 0,\n                value: 0,\n                color: 'transparent'\n            };\n        }\n\n        let startPercent = this.model[name].percent || 0;\n        let startColor = this.model[name].color || slice.color;\n        let startValue = this.model[name].value || slice.value || 0;\n\n        this.model[name].percent = startPercent;\n        this.model[name].color = startColor;\n        this.model[name].value = startValue;\n\n        duration = duration || 0;\n\n        let amount = 0;\n        let time = Date.now();    \n\n        if(duration <= 0) {\n            this.model[name].percent = slice.percent || 0;\n            this.model[name].color = slice.color;\n            this.model[name].value = slice.value || 0;\n            \n            _.replace(this.svg, this.renderSlices());\n            return;\n        }\n\n        let tick = () => {\n            let delta = (Date.now() - time) / 1000;\n            amount += delta / duration;\n\n            time = Date.now();\n\n            this.model[name].percent = PieChart.lerp(startPercent, slice.percent, amount) || 0;\n            this.model[name].value = PieChart.lerp(startValue, slice.value, amount) || 0;\n\n            _.replace(this.svg, this.renderSlices());\n            _.replace(this.labels, this.renderLabels());\n\n            if(amount >= 1) { return; }\n\n            requestAnimationFrame(() => { tick(); });\n        };\n\n        requestAnimationFrame(() => { tick(); });\n    }\n   \n    /**\n     * Renders the slices\n     *\n     * @returns {Array} Slices\n     */\n    renderSlices() {\n        let percent = 0;\n        let sliceIndex = 0;\n\n        return _.each(this.model, (name, slice) => {\n            let start = this.getCoordinate(percent);\n\n            percent += slice.percent;\n            \n            let end = this.getCoordinate(percent);\n\n            let largeArc = slice.percent > 0.5 ? 1 : 0;\n\n            let pathData = \n                'M ' + start.x + ' ' + start.y + ' ' + \n                'A 1 1 0 ' + largeArc + ' 1 ' + end.x + ' ' + end.y + \n                'L 0 0';\n\n            sliceIndex++;\n\n            return _.path({d: pathData, fill: slice.color, 'data-percent': slice.percent, 'data-name': name});\n        });\n    }\n\n    /**\n     * Renders the labels\n     *\n     * @returns {Array} Array of labels\n     */\n    renderLabels() {\n        return _.each(this.model, (name, slice) => {\n            if(!slice.label) { return; }\n\n            return _.label({class: 'widget widget--label pie-chart__label', style: 'border-left: 2em solid ' + slice.color},\n                _.if(slice.showPercentage,\n                    _.span({class: 'pie-chart__label__percent'}, Math.round(slice.percent * 100) + '%')\n                ),\n                slice.label + ' (' + Math.round(slice.value) + 'kr.)'\n            );\n        });\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'pie-chart ' + (this.className || '')},\n            this.svg = _.svg({class: 'pie-chart__svg', viewBox: '-1 -1 2 2'},\n                this.renderSlices()\n            ),\n            this.labels = _.div({class: 'pie-chart__labels'},\n                this.renderLabels()\n            )\n        );\n    }\n}\n\nmodule.exports = PieChart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Charts/PieChart.js","'use strict';\n\nclass CoinStack extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.currentAmount = this.amount;\n        this.coinHeight = this.coinHeight || 10;\n        this.color = this.color || '#000000';\n\n        this.coins = _.div({class: 'coin-stack__coins'});\n\n        this.fetch();\n    }\n\n    /**\n     * Transfers an amount from one stack to another\n     *\n     * @param {CoinStack} from\n     * @param {CoinStack} to\n     * @param {Number} amount\n     */\n    static transfer(from, to, amount) {\n        if(from.amount < amount) { throw new Error('The coin stack does not have enough coins to transfer ' + amount + ' coins'); }\n\n        from.amount -= amount;\n\n        setTimeout(() => {\n            to.amount += amount;\n        }, 500);\n    }\n\n    /**\n     * Gets the stack element\n     *\n     * @returns {HTMLElement} Stack element\n     */\n    get stackElement() {\n        return this.element.querySelector('.coin-stack__stack');\n    }\n\n    /**\n     * Updates the stack height\n     */\n    update() {\n        if(this.amount > this.currentAmount) {\n            this.currentAmount++;\n\n            let coin = _.div({class: 'coin-stack__coin in', style: 'bottom: ' + ((this.getStackAmount(1) + 0.5) * this.coinHeight) + 'px'});\n\n            setTimeout(() => {\n                coin.remove();\n                this.update();\n            }, 400);\n\n            _.append(this.coins, coin);\n\n        } else if(this.amount < this.currentAmount) {\n            this.currentAmount--;\n            \n            let coin = _.div({class: 'coin-stack__coin out', style: 'bottom: ' + ((this.getStackAmount(1) + 0.5) * this.coinHeight) + 'px'});\n\n            setTimeout(() => {\n                coin.remove();\n                this.update();\n            }, 400);\n\n            _.append(this.coins, coin);\n\n        } else if(this.element) {\n            this.fetch();\n        \n        }\n    }\n\n    /**\n     * Sets the coin amount\n     *\n     * @param {Number} amount\n     */\n    set amount(amount) {\n        if(amount < 0) { amount = 0; }\n\n        amount = Math.round(amount);\n\n        this._amount = amount;\n\n        this.update();\n    }\n\n    /**\n     * Gets the coin amount\n     *\n     * @returns {Number} Amount\n     */\n    get amount() {\n        return this._amount || 0;\n    }\n\n    /**\n     * Gets the amount style\n     *\n     * @param {Number} index\n     *\n     * @returns {String} Amount style\n     */\n    getAmountStyle(index) {\n        let amount = this.getStackAmount(index);\n\n        if(index === 1) {\n            amount -= this.coins.children.length;\n        }\n\n        return 'height: calc(' + amount + ' * ' + this.coinHeight + 'px); '; \n    }\n\n    /**\n     * Gets the position style\n     *\n     * @param {Number} index\n     *\n     * @return {String} Position style\n     */\n    getPositionStyle(index) {\n        let zIndex = 100 - index;\n        let opacity = 1 - (index * 0.1);\n\n        if(opacity < 0) {\n            opacity = 0;\n        }\n\n        let style =  'z-index: ' + zIndex + '; opacity: ' + opacity + '; ';\n\n        if(index > 1) {\n            let translateX = index * 10;\n\n            if(index % 2) {\n                translateX *= -1;\n            }\n\n            style += 'transform: translateX(' + translateX + 'px); ';\n        }\n\n        return style;\n    }\n\n    /**\n     * Gets the amount of coins in a stack\n     *\n     * @param {Number} index\n     *\n     * @returns {Number} Amount\n     */\n    getStackAmount(index) {\n        let maxCoinsPerStack = 10;\n\n        if(index === 1) {\n            return this.currentAmount % maxCoinsPerStack;\n        }\n\n        return maxCoinsPerStack;\n    }\n       \n    /**\n     * Gets total amount of coin stacks\n     *\n     * @returns {Number} Stacks\n     */\n    getTotalStacks() {\n        let stacks = 0;\n        let totalAmount = this.currentAmount;\n        \n        while(totalAmount > 0) {\n            let i = stacks + 1;\n            let thisAmount = this.getStackAmount(i);\n\n            totalAmount -= thisAmount;\n            stacks++;\n        }\n\n        return stacks;\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'coin-stack', 'data-amount': this.currentAmount},\n            _.for(0, this.getTotalStacks(), (i) => {\n                i++;\n                \n                let thisAmount = this.getStackAmount(i);\n\n                return _.div({class: 'coin-stack__stack', 'data-index': i, 'data-amount': thisAmount, style: this.getAmountStyle(i) + this.getPositionStyle(i)});\n            })\n        );\n    }\n\n    /**\n     * Post render\n     */\n    postrender() {\n        _.append(this.element, this.coins);\n    }\n}\n\nmodule.exports = CoinStack;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Charts/CoinStack.js","'use strict';\n\nclass Setup extends Crisp.View {\n    /**\n     * Constrcutor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = {\n            name: 'My Company Aps',\n            total: 7500,\n            capital: 5000\n        };\n            \n        this.fetch();\n    }\n   \n    /**\n     * Updates the pie chart\n     */\n    updatePieChart() {\n        if(!this.pieChart) { return; }\n        \n        this.pieChart.setSlice('account', 0.33, {\n            percent: 1 - (this.model.capital / this.model.total),\n            value: this.model.total - this.model.capital\n        });\n\n        this.pieChart.setSlice('capital', 0.33, {\n            percent: this.model.capital / this.model.total,\n            value: this.model.capital\n        });\n    }\n\n    /**\n     * Event: Change name\n     *\n     * @param {InputEvent} e\n     */\n    onChangeName(e) {\n        this.model.name = e.currentTarget.value;\n    }\n    \n    /**\n     * Event: Change capital\n     *\n     * @param {InputEvent} e\n     */\n    onChangeCapital(e) {\n        let value = parseInt(e.currentTarget.value);\n\n        if(value < 5000) {\n            e.currentTarget.value = 5000;\n        }\n\n        if(value > this.model.total) {\n            e.currentTarget.value = this.model.total;\n        }\n\n        this.model.capital = e.currentTarget.value;\n\n        this.updatePieChart();\n    }\n\n    /**\n     * Event: Change product\n     *\n     * @param {InputEvent} e\n     */\n    onChangeProduct(e) {\n        this.model.productName = e.currentTarget.value || 'units';\n    }\n\n    /**\n     * Event: Click next\n     *\n     * @param {InputEvent} e\n     */\n    onClickNext(e) {\n        // We clear localStorage this point to make sure we start with a clean slate\n        localStorage.clear();\n\n        Game.Services.ConfigService.set('personalAccount', this.model.total - this.model.capital);\n        Game.Services.ConfigService.set('companyAccount', this.model.capital);\n        Game.Services.ConfigService.set('companyName', this.model.name);\n        Game.Services.ConfigService.set('productName', this.model.productName || 'units');\n\n        Crisp.Router.go('/b-tax-estimation');\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'page page--setup'},\n            _.div({class: 'page__container'},\n                _.h1({class: 'page__title'}, 'Setup'),\n                _.div({class: 'page--setup__input'},\n                    _.div({class: 'widget-group align-center'},\n                        _.label({class: 'widget widget--label'}, 'Company name'),\n                        _.input({class: 'widget widget--input', type: 'text', name: 'name', placeholder: 'E.g. \"My Company ApS\"', value: this.model.name})\n                            .on('input', (e) => { this.onChangeName(e); })\n                    ),\n                    _.div({class: 'widget-group align-center'},\n                        _.label({class: 'widget widget--label'}, 'Capital'),\n                        _.input({class: 'widget widget--input', type: 'number', min: 0, max: this.model.account, step: 1000, name: 'capital', placeholder: 'E.g. 3000', value: this.model.capital})\n                            .on('input', (e) => { this.onChangeCapital(e); })\n                    ),\n                    _.div({class: 'widget-group align-center'},\n                        _.label({class: 'widget widget--label'}, 'Product'),\n                        _.input({class: 'widget widget--input', type: 'text', name: 'productName', placeholder: 'E.g. kittens or lasers'})\n                            .on('input', (e) => { this.onChangeProduct(e); })\n                    )\n                ),\n                this.pieChart = new Game.Views.Charts.PieChart({\n                    className: 'page--setup__pie-chart',\n                    model: {\n                        account: { percent: 1 - (this.model.capital / this.model.total), label: 'Personal account', value: this.model.total - this.model.capital, color: 'green' },\n                        capital: { percent: this.model.capital / this.model.total, label: 'Capital', value: this.model.capital, color: 'blue' },\n                        total: { percent: 1, label: 'Total funds', color: 'transparent', value: this.model.total }\n                    }\n                }),\n                _.button({class: 'widget widget--button blue align-right'}, 'Next')\n                    .click((e) => { this.onClickNext(e); })\n            )\n        );\n    }\n}\n\nmodule.exports = Setup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Pages/Setup.js","'use strict';\n\n/**\n * The B tax estimation page\n */\nclass BTaxEstimation extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = {\n            income: 30000,\n            btax: 0\n        };\n\n        this.fetch();\n    }\n\n    /**\n     * Event: Change income\n     *\n     * @param {InputEvent} e\n     */\n    onChangeIncome(e) {\n        let value = parseInt(e.currentTarget.value);\n\n        if(value < 0) {\n            e.currentTarget.value = 0;\n        }\n\n        this.model.income = parseInt(e.currentTarget.value);\n        this.model.btax = 0;\n        this.finalBTax.innerHTML = '';\n\n        this.updatePieChart();\n    }\n\n    /**\n     * Updates the pie chart\n     */\n    updatePieChart() {\n        if(!this.pieChart) { return; }\n        \n        this.pieChart.setSlice('btax', 0.33, {\n            percent: this.model.btax / this.model.income,\n            value: this.model.btax\n        });\n\n        this.pieChart.setSlice('income', 0.33, {\n            percent: 1 - (this.model.btax / this.model.income),\n            value: this.model.income\n        });\n    }\n    \n    /**\n     * Event: Click calculate\n     *\n     * @param {InputEvent} e\n     */\n    onClickCalculate(e) {\n        let progressBar = new Game.Views.Widgets.ProgressBar();\n        let progress = 0;\n        let max = 38;\n\n        progress += 0.8;\n        progressBar.setProgress(progress, max, 'Church tax...');\n        \n        wait(1)\n        .then(() => {\n            progress += 2.8;\n            progressBar.setProgress(progress, max, 'State tax...');\n\n            return wait(0.9);\n        })\n        .then(() => {\n            progress += 5;\n            progressBar.setProgress(progress, max, 'Health contributions...');\n\n            return wait(0.85);\n        })\n        .then(() => {\n            progress += 23.8;\n            progressBar.setProgress(progress, max, 'Municipal tax...');\n\n            return wait(1);\n        })\n        .then(() => {\n            progress += 2.8;\n            progressBar.setProgress(progress, max, 'Labour market contribution...');\n\n            return wait(0.4);\n        })\n        .then(() => {\n            progress += 2.8;\n            progressBar.setProgress(progress, max, 'ATP contribution...');\n\n            return wait(2);\n        })\n        .then(() => {\n            this.model.btax = this.model.income * 0.38;\n\n            progressBar.remove();\n\n            this.updatePieChart();\n\n            this.finalBTax.innerHTML = this.model.btax + ' / 12 = <span>' + Math.round(this.model.btax / 12) + 'kr. per month</span>';\n        });\n    }\n\n    /**\n     * Event: Click done\n     *\n     * @param {InputEvent} e\n     */\n    onClickDone(e) {\n        if(this.model.btax <= 0) {\n            new Game.Views.Modals.Message({\n                message: 'Please calculate your B tax first'\n            });\n\n            return;\n        } \n\n        // Save the estimated income\n        Game.Services.ConfigService.set('estimatedIncome', this.model.income);\n\n        // Save the B tax estimate\n        Game.Services.ConfigService.set('btaxAmount', this.model.btax);\n\n        // Check if setup is complete\n        if(!Game.Services.ConfigService.get('completedSetup')) {\n            Game.Services.ConfigService.set('completedSetup', true);\n            Game.Services.TimeService.startClock();\n        }\n\n        location.hash = '/session';\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'page page--b-tax-estimation'},\n            _.div({class: 'page__container'},\n                _.h1({class: 'page__title'}, 'B tax estimation for ' + Game.Services.TimeService.currentYear),\n                _.p({class: 'widget widget--label text-center'}, 'Estimate how much profit you will make selling ' + Game.Services.ConfigService.get('productName') + ' in the coming year.<br>You will pay your B tax based on this amount.'),\n                _.div({class: 'page--b-tax-estimation__input'},\n                    _.div({class: 'widget-group align-center'},\n                        _.label({class: 'widget widget--label'}, 'Target profit for ' + Game.Services.TimeService.currentYear),\n                        _.input({class: 'widget widget--input', type: 'number', step: 1000, min: 0, value: this.model.income})\n                            .on('input', (e) => { this.onChangeIncome(e); })\n                    ),\n                    _.button({class: 'widget widget--button blue align-center'}, 'Calculate B tax')\n                        .click((e) => { this.onClickCalculate(e); })\n                ),\n                this.pieChart = new Game.Views.Charts.PieChart({\n                    className: 'page--b-tax-estimation__pie-chart',\n                    showPercentage: true,\n                    model: {\n                        btax: { showPercentage: true, percent: this.model.btax / this.model.income, label: 'B tax', value: this.model.btax, color: 'blue' },\n                        income: { percent: 1 - (this.model.btax / this.model.income), label: 'Target profit', color: 'green', value: this.model.income }\n                    }\n                }),\n                this.finalBTax = _.div({class: 'page--b-tax-estimation__final'}),\n                _.div({class: 'widget-group align-right stretch'},\n                    _.if(!Game.Services.ConfigService.get('completedSetup'),\n                        _.a({href: '#/', class: 'widget widget--button'}, 'Back'),\n                        _.div({class: 'widget-group__separator'})\n                    ),\n                    _.button({class: 'widget widget--button blue'}, 'Done')\n                        .click((e) => { this.onClickDone(e); })\n                )\n            )\n        );\n    }\n}\n\nmodule.exports = BTaxEstimation;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Pages/BTaxEstimation.js","'use strict';\n\nclass Session extends Crisp.View {\n    /**\n     * Constructor\n     */\n    constructor(params) {\n        super(params);\n\n        this.model = Game.Models.Player.current;\n            \n        this.fetch();\n\n        this.hearbeatInterval = setInterval(() => {\n            this.heartbeat();\n        }, 1000);\n\n        this.sellTimeout = setTimeout(() => {\n            this.sellUnit();\n        }, Game.Services.SessionService.getSalesDelay());\n\n        this.on('remove', () => {\n            clearInterval(this.hearbeatInterval);\n            clearTimeout(this.sellTimeout);\n        });\n    }\n\n    /**\n     * Sells a unit\n     */\n    sellUnit() {\n        this.sellTimeout = setTimeout(() => {\n            this.sellUnit();\n        }, Game.Services.SessionService.getSalesDelay());\n        \n        if(Game.Services.TimeService.isPaused) { return; }\n\n        Game.Services.SessionService.sellUnit();\n    }\n\n    /**\n     * Heartbeat (once per second)\n     */\n    heartbeat() {\n        if(Game.Services.TimeService.isPaused) { return; }\n\n        // Init tutorial \n        if(!Game.Services.ConfigService.get('initTutorialDone')) { \n            this.startInitTutorial();\n        }\n\n        // B tax tutorial\n        if(Game.Services.TimeService.currentDate === 3 && !Game.Services.ConfigService.get('bTaxTutorialDone')) {\n            this.startBTaxTutorial();\n        }\n\n        // Quest tutorial\n        if(Game.Services.TimeService.currentDate === 10 && !Game.Services.ConfigService.get('questTutorialDone')) {\n            this.startQuestTutorial();\n        }\n\n        // Unit price tutorial\n        if(Game.Services.SessionService.isQuestComplete('Pricing') && !Game.Services.ConfigService.get('pricingTutorialDone')) {\n            this.startPricingTutorial();\n        }\n        \n        // Machines tutorial\n        if(Game.Services.SessionService.isQuestComplete('Machines') && !Game.Services.ConfigService.get('machinesTutorialDone')) {\n            this.startMachinesTutorial();\n        }\n\n        // Tick time \n        Game.Services.TimeService.tick();\n       \n        this.questLog.heartbeat();\n        this.controls.heartbeat();\n        this.timeline.heartbeat();\n        this.notifications.heartbeat();\n        this.stats.heartbeat();\n\n        // Update coin stack\n        let stackAmount = Math.round(Game.Services.ConfigService.get('personalAccount', 0) / 100);\n        \n        if(stackAmount !== this.coinStack.amount) {\n            this.coinStack.amount = stackAmount;\n        }\n\n        // Automatically produce units, if applicable\n        if(Game.Services.TimeService.isNewDay) {\n            Game.Services.SessionService.autoProduceUnits();\n        }\n    }\n\n    /**\n     * Starts the unit price tutorial\n     */\n    startPricingTutorial() {\n        let modal = new Game.Views.Modals.Message({\n            title: 'Change unit prices',\n            canCancel: false,\n            canSubmit: false,\n            message: 'You can now change unit prices, which will affect the demand for your ' + Game.Services.ConfigService.get('productName') + '! Let\\'s set the price to 30 DKK now.',\n            focus: {\n                element: '.drawer--controls__pricing__input',\n                side: 'right',\n                align: 'middle'\n            }\n        });\n\n        let input = modal.focusElement;\n\n        setTimeout(() => {\n            modal.elevateFocusElement(true);\n        }, 200);\n\n        let onInput = (e) => {\n            if(e.currentTarget.value != 30) { return; }\n\n            input.removeEventListener('input', onInput);\n\n            modal.elevateFocusElement(false);\n            modal.close();\n        \n            Game.Services.ConfigService.set('pricingTutorialDone', true);\n        };\n\n        input.addEventListener('input', onInput);\n    }\n\n    /**\n     * Starts the machines tutorial\n     */\n    startMachinesTutorial() {\n        new Game.Views.Modals.Message({\n            title: 'Machines',\n            canCancel: false,\n            message: 'You can now buy machines! Click here to buy one and automatically produce ' + Game.Services.ConfigService.get('productName') + '! Each machine produces ' + Game.Services.SessionService.getCurrentMachineProductivity() + ' ' + Game.Services.ConfigService.get('productName') + ' per day',\n            focus: {\n                element: '.drawer--controls__buy-machine',\n                side: 'right',\n                align: 'middle'\n            }\n        });\n        \n        Game.Services.ConfigService.set('machinesTutorialDone', true);\n    }\n\n    /**\n     * Starts the B tax tutorial\n     */\n    startBTaxTutorial() {\n        let modal = new Game.Views.Modals.Message({\n            title: 'Pay B tax',\n            canCancel: false,\n            canSubmit: false,\n            message: 'It\\'s time to pay B tax! Just click the button to pay and move on with your life.',\n            focus: {\n                element: '.drawer--notifications__entry__action',\n                side: 'left',\n                align: 'middle'\n            }\n        });\n\n        let button = modal.focusElement;\n\n        setTimeout(() => {\n            modal.elevateFocusElement(true);\n        }, 200);\n\n        let onClick = (e) => {\n            button.removeEventListener('click', onClick);\n\n            modal.elevateFocusElement(false);\n            modal.close();\n        \n            Game.Services.ConfigService.set('bTaxTutorialDone', true);\n        };\n\n        button.addEventListener('click', onClick);\n    }\n\n    /**\n     * Starts the quest tutorial\n     */\n    startQuestTutorial() {\n        let modal = new Game.Views.Modals.Message({\n            title: 'Quests',\n            canCancel: false,\n            message: 'Save enough money in your personal account to unlock upgrades.',\n            focus: {\n                element: '.drawer--quest-log',\n                side: 'left',\n                align: 'top'\n            }\n        });\n\n        Game.Services.ConfigService.set('questTutorialDone', true);\n    }\n\n    /**\n     * Starts the init tutorial\n     */\n    startInitTutorial() {\n        Game.Services.TimeService.isPaused = true;\n\n        let produce = () => {\n            let modal = new Game.Views.Modals.Message({\n                title: 'Produce',\n                canCancel: false,\n                canSubmit: false,\n                message: 'Press this button to produce ' + Game.Services.ConfigService.get('productName') + ' for selling. Let\\'s produce 5 ' + Game.Services.ConfigService.get('productName') + ' now.',\n                focus: {\n                    element: '.drawer--controls__produce',\n                    side: 'right',\n                    align: 'top'\n                }\n            });\n           \n            let button = modal.focusElement;\n\n            modal.elevateFocusElement(true);\n\n            let count = 0;\n\n            let onClick = () => {\n                count++;\n\n                if(count >= 5) {\n                    button.removeEventListener('click', onClick);\n                    modal.elevateFocusElement(false);\n\n                    transfer(); \n                }\n            };\n\n            button.addEventListener('click', onClick);\n        };\n    \n        let time = () => {\n            let modal = new Game.Views.Modals.Message({\n                title: 'Time',\n                canSubmit: false,\n                canCancel: false,\n                message: 'Use these buttons to control time. You can speed up or pause the game entirely. Press play now to start time.',\n                focus: {\n                    element: '.drawer--timeline__controls',\n                    side: 'top',\n                    align: 'left'\n                }\n            });\n\n            let button = document.querySelector('button[title=\"Play\"]');\n\n            modal.elevateFocusElement(true, button); \n\n            let onClick = () => {\n                modal.close();\n                \n                Game.Services.ConfigService.set('initTutorialDone', true);\n\n                button.removeEventListener('click', onClick);\n            };\n\n            button.addEventListener('click', onClick);\n        };\n\n        let transfer = () => {\n            return new Game.Views.Modals.Message({\n                title: 'Company account',\n                canCancel: false,\n                message: 'This is the money you invested in the company as capital, you produce and buy upgrades and pay tax out of this account',\n                focus: {\n                    element: '.drawer--stats__company-account',\n                    side: 'bottom',\n                    align: 'left'\n                }\n            }).on('ok', () => {\n                new Game.Views.Modals.Message({\n                    title: 'Personal account',\n                    canCancel: false,\n                    message: 'This is the money you own privately, when you reach certain amount you can unlock upgrades!',\n                    focus: {\n                        element: '.drawer--stats__personal-account',\n                        side: 'bottom',\n                        align: 'right'\n                    }\n                }).on('ok', () => {\n                    new Game.Views.Modals.Message({\n                        title: 'Coins',\n                        canCancel: false,\n                        message: 'This stack of coins represents the money in your personal account',\n                        focus: {\n                            element: '.coin-stack__stack',\n                            side: 'top',\n                            align: 'center'\n                        }\n                    }).on('ok', () => {\n                        let modal = new Game.Views.Modals.Message({\n                            title: 'Transfer',\n                            canCancel: false,\n                            canSubmit: false,\n                            message: 'You can transfer money from your company account to your personal account. Let\\'s transfer 100 DKK now',\n                            focus: {\n                                element: '.drawer--stats__preview__transactions button',\n                                side: 'bottom',\n                                align: 'center'\n                            }\n                        });\n\n                        let button = modal.focusElement;\n\n                        modal.elevateFocusElement(true);\n\n                        let onClick = (e) => {\n                            button.removeEventListener('click', onClick);\n                           \n                            setTimeout(() => {\n                                let modal = Crisp.View.get('Transfer');\n\n                                modal.on('submit', () => {\n                                    time();\n                                });\n\n                                modal.max = 100;\n                            });\n                            \n                            modal.elevateFocusElement(false);\n                            modal.close();\n                        };\n\n                        button.addEventListener('click', onClick);\n                    });\n                });\n            });\n        };\n\n        produce();\n    }\n\n    /**\n     * Template\n     */\n    template() {\n        return _.div({class: 'page page--session'},\n            _.div({class: 'page--session__panel top'},\n                this.stats = new Game.Views.Drawers.Stats()\n            ),\n            _.div({class: 'page--session__panel middle'},\n                _.div({class: 'page--session__panel left'},\n                    this.controls = new Game.Views.Drawers.Controls()\n                ),\n                _.div({class: 'page--session__panel center'},\n                    this.coinStack = new Game.Views.Charts.CoinStack({\n                        amount: Math.round(Game.Services.ConfigService.get('personalAccount', 0) / 100)\n                    })\n                ),\n                _.div({class: 'page--session__panel right'},\n                    this.questLog = new Game.Views.Drawers.QuestLog(),\n                    this.notifications = new Game.Views.Drawers.Notifications()\n                )\n            ),\n            _.div({class: 'page--session__panel bottom'},\n                this.timeline = new Game.Views.Drawers.Timeline()\n            )\n        );\n    }\n}\n\nmodule.exports = Session;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Views/Pages/Session.js","'use strict';\n\n/**\n * The view controller\n */\nclass ViewController {\n    /**\n     * Initialise routes\n     */\n    static init() {\n        Crisp.Router.route('/', this.index);\n        Crisp.Router.route('/b-tax-estimation', this.btax);\n        Crisp.Router.route('/session', this.session);\n    \n        Crisp.Router.init();\n    }\n\n    /**\n     * Index\n     */\n    static index() {\n        _.replace(document.body,\n            new Game.Views.Pages.Setup() \n        );\n    }\n\n    /**\n     * B tax\n     */\n    static btax() {\n        _.replace(document.body,\n            new Game.Views.Pages.BTaxEstimation() \n        );\n    }\n\n    /**\n     * Session\n     */\n    static session() {\n        _.replace(document.body,\n            new Game.Views.Pages.Session() \n        );\n    }\n}\n\nViewController.init();\n\nmodule.exports = ViewController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Controllers/ViewController.js"],"sourceRoot":""}